
<!doctype html>
<html lang="hu" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Benedek Zoltán">
      
      
        <link rel="canonical" href="https://bmeviauab00.github.io/szoftvertechnikak/2024/labor/4-tobbszalu/index_eng/">
      
      
        <link rel="prev" href="../../3-felhasznaloi-felulet/index_eng/">
      
      
        <link rel="next" href="../../5-mvvm/index_eng/">
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>4. Developing multithreaded applications - BMEVIAUAB00 Szoftvertechnikák</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../extra-material-theme.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aut" data-md-color-primary="aut" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4-developing-multithreaded-applications" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Élőfej">
    <a href="../../.." title="BMEVIAUAB00 Szoftvertechnikák" class="md-header__button md-logo" aria-label="BMEVIAUAB00 Szoftvertechnikák" data-md-component="logo">
      
  <img src="../../../img/logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUAB00 Szoftvertechnikák
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4. Developing multithreaded applications
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="aut" data-md-color-primary="aut" data-md-color-accent="red"  aria-label="Váltás sötét témára"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Váltás sötét témára" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="indigo"  aria-label="Váltás világos témára"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Váltás világos témára" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Keresés">
        
        <button type="reset" class="md-search__icon md-icon" title="Törlés" aria-label="Törlés" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Keresés inicializálása
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bmeviauab00/szoftvertechnikak" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauab00/szoftvertechnikak
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Lapok" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Szoftvertechnikák (2024-től)

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../1-model-es-kod-kapcsolata/" class="md-tabs__link">
          
  
  Laborok

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../hazi/" class="md-tabs__link">
          
  
  Önálló/házi feladatok

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../1-model-es-kod-kapcsolata/index_eng/" class="md-tabs__link">
          
  
  English course labs

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../hazi/index_eng/" class="md-tabs__link">
          
  
  Homework

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../1-model-es-kod-kapcsolata/index_ger/" class="md-tabs__link">
          
  
  Deutschkurs-Labore

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../hazi/meghirdetes-elott_ger/" class="md-tabs__link">
          
  
  Hausaufgaben

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigáció" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="BMEVIAUAB00 Szoftvertechnikák" class="md-nav__button md-logo" aria-label="BMEVIAUAB00 Szoftvertechnikák" data-md-component="logo">
      
  <img src="../../../img/logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUAB00 Szoftvertechnikák
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bmeviauab00/szoftvertechnikak" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauab00/szoftvertechnikak
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Szoftvertechnikák (2024-től)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Laborok
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Laborok
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-model-es-kod-kapcsolata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. A modell és a kód kapcsolata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-nyelvi-eszkozok/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Nyelvi eszközök
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-felhasznaloi-felulet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. A felhasználói felület kialakítása
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Többszálú alkalmazások készítése
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-mvvm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-tervezesi-mintak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Tervezési minták (kiterjeszthetőség)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-adatkezeles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Adatkezelés
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Önálló/házi feladatok
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Önálló/házi feladatok
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Útmutató
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/1-model-es-kod-kapcsolata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HF - A modell és a kód kapcsolata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/2-nyelvi-eszkozok/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. HF - Nyelvi eszközök
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/3-felhasznaloi-felulet-kialakitasa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. HF - Felhasználói felület kialakítása
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/4-tobbszalu-alkalmazasok-fejlesztese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. HF - Többszálú alkalmazások fejlesztése
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/5-mvvm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. HF - MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/6-tervezesi-mintak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. HF - Tervezési minták
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/imsc-liftsystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HF - Liftrendszer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/fejlesztokornyezet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fejlesztőkörnyezet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    English course labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            English course labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-model-es-kod-kapcsolata/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. The relationship between the model and the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-nyelvi-eszkozok/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Language tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-felhasznaloi-felulet/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. The design of the user interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4. Developing multithreaded applications
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4. Developing multithreaded applications
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-aim-of-the-laboratory" class="md-nav__link">
    <span class="md-ellipsis">
      The aim of the laboratory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution" class="md-nav__link">
    <span class="md-ellipsis">
      Solution
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-0-getting-familiar-with-the-starter-application-and-preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Task 0 - Getting familiar with the starter application and preparation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 0 - Getting familiar with the starter application and preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-code-in-the-dll" class="md-nav__link">
    <span class="md-ellipsis">
      Using the code in the DLL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-1-running-the-operation-on-the-main-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1 – Running the operation on the main thread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-2-perform-the-calculation-in-a-separate-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2 – Perform the calculation in a separate thread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-3-using-dispatcherqueuehasthreadaccess-and-dispatcherqueuetryenqueue" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3 – Using DispatcherQueue.HasThreadAccess and DispatcherQueue.TryEnqueue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-4-performing-an-operation-on-a-threadpool-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Task 4 – Performing an operation on a ThreadPool thread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-5-producer-consumer-based-solution" class="md-nav__link">
    <span class="md-ellipsis">
      Task 5 – Producer-Consumer based solution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 5 – Producer-Consumer based solution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-1" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-2" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-6-make-the-datafifo-class-thread-safe" class="md-nav__link">
    <span class="md-ellipsis">
      Task 6 – Make the DataFifo class thread-safe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-7-efficient-signaling-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Task 7 – Efficient signaling implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 7 – Efficient signaling implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-manualresetevent" class="md-nav__link">
    <span class="md-ellipsis">
      Using ManualResetEvent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#waiting-for-signal-blocking-get" class="md-nav__link">
    <span class="md-ellipsis">
      Waiting for signal (Blocking Get)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-8-elegant-shutdown" class="md-nav__link">
    <span class="md-ellipsis">
      Task 8 – Elegant shutdown
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlook-task-async-await" class="md-nav__link">
    <span class="md-ellipsis">
      Outlook: Task, async, await
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-mvvm/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-tervezesi-mintak/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Design patterns (extensibility)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-adatkezeles/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Homework
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Homework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/1-model-es-kod-kapcsolata/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HW - The relationship between the model and the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/2-nyelvi-eszkozok/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. HW - Language tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/3-felhasznaloi-felulet-kialakitasa/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. HW - Implementing the user interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/4-tobbszalu-alkalmazasok-fejlesztese/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. HW - Developing multithreaded applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/5-mvvm/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. HW - MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. HW - Design patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HW - Liftsystem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/fejlesztokornyezet/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development environment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deutschkurs-Labore
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Deutschkurs-Labore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-model-es-kod-kapcsolata/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Beziehung zwischen dem Modell und dem Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-nyelvi-eszkozok/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Sprachliche Mittel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-felhasznaloi-felulet/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entwurf der Benutzeroberfläche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Erstellung von mehrfädigen Anwendungen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5-mvvm/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-tervezesi-mintak/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entwurfsmuster (Erweiterbarkeit)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-adatkezeles/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Datenverwaltung
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hausaufgaben
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Hausaufgaben
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Beziehung zwischen dem Modell und dem Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Sprachliche Mittel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/3-felhasznaloi-felulet-kialakitasa/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entwurf der Benutzeroberfläche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/4-tobbszalu-alkalmazasok-fejlesztese/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Entwicklung von Multithreading-Anwendungen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/5-mvvm/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/6-tervezesi-mintak/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entwurfsmuster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/fejlesztokornyezet/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entwicklungsumgebung
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-aim-of-the-laboratory" class="md-nav__link">
    <span class="md-ellipsis">
      The aim of the laboratory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution" class="md-nav__link">
    <span class="md-ellipsis">
      Solution
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-0-getting-familiar-with-the-starter-application-and-preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Task 0 - Getting familiar with the starter application and preparation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 0 - Getting familiar with the starter application and preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-code-in-the-dll" class="md-nav__link">
    <span class="md-ellipsis">
      Using the code in the DLL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-1-running-the-operation-on-the-main-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1 – Running the operation on the main thread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-2-perform-the-calculation-in-a-separate-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2 – Perform the calculation in a separate thread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-3-using-dispatcherqueuehasthreadaccess-and-dispatcherqueuetryenqueue" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3 – Using DispatcherQueue.HasThreadAccess and DispatcherQueue.TryEnqueue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-4-performing-an-operation-on-a-threadpool-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Task 4 – Performing an operation on a ThreadPool thread
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-5-producer-consumer-based-solution" class="md-nav__link">
    <span class="md-ellipsis">
      Task 5 – Producer-Consumer based solution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 5 – Producer-Consumer based solution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-1" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-2" class="md-nav__link">
    <span class="md-ellipsis">
      Problem 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-6-make-the-datafifo-class-thread-safe" class="md-nav__link">
    <span class="md-ellipsis">
      Task 6 – Make the DataFifo class thread-safe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-7-efficient-signaling-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Task 7 – Efficient signaling implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 7 – Efficient signaling implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-manualresetevent" class="md-nav__link">
    <span class="md-ellipsis">
      Using ManualResetEvent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#waiting-for-signal-blocking-get" class="md-nav__link">
    <span class="md-ellipsis">
      Waiting for signal (Blocking Get)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-8-elegant-shutdown" class="md-nav__link">
    <span class="md-ellipsis">
      Task 8 – Elegant shutdown
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlook-task-async-await" class="md-nav__link">
    <span class="md-ellipsis">
      Outlook: Task, async, await
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/bmeviauab00/szoftvertechnikak/edit/master/docs/labor/4-tobbszalu/index_eng.md" title="Oldal szerkesztése" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="4-developing-multithreaded-applications">4. Developing multithreaded applications<a class="headerlink" href="#4-developing-multithreaded-applications" title="Permanent link">&para;</a></h1>
<h2 id="the-aim-of-the-laboratory">The aim of the laboratory<a class="headerlink" href="#the-aim-of-the-laboratory" title="Permanent link">&para;</a></h2>
<p>The aim of the laboratory is to familiarize students with the fundamental principles of multithreading. Covered topics include (among others):</p>
<ul>
<li>Starting threads (<code>Thread</code>)</li>
<li>Stopping threads</li>
<li>Creating thread-safe classes using the <code>lock</code> keyword</li>
<li>Using <code>ThreadPool</code></li>
<li>Signaling and waiting for signals with thread synchronization using <code>ManualResetEvent</code> (<code>WaitHandle</code>)</li>
<li>WinUI-specific threading features (<code>DispatcherQueue</code>)</li>
</ul>
<p>Naturally, since this topic has a huge range, we will only gain basic knowledge, but with this foundation, we will be able to independently tackle more complex tasks.</p>
<p>Related lectures: Developing concurrent (multithreaded) applications.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<p>Tools needed to complete the laboratory:</p>
<ul>
<li>Visual Studio 2022<ul>
<li>Windows Desktop Development Workload</li>
</ul>
</li>
<li>Windows 10 or Windows 11 operating system (Linux and macOS are not suitable)</li>
</ul>
<h2 id="solution">Solution<a class="headerlink" href="#solution" title="Permanent link">&para;</a></h2>
<details class="success">
<summary>Download the completed solution</summary>
<p><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> It is essential to work following the instructor during the lab, it is forbidden (and pointless) to download the final solution. However, during subsequent independent practice, it can be useful to review the final solution, so we make it available.</p>
<p>The solution is available on <a href="https://github.com/bmeviauab00/lab-tobbszalu-kiindulo/tree/megoldas">GitHub</a>. The easiest way to download it is by cloning the <code>megoldas</code> branch using the <code>git clone</code> command in the terminal:</p>
<p><code>git clone https://github.com/bmeviauab00/lab-tobbszalu-kiindulo -b megoldas</code></p>
<p>For this, command-line Git must be installed on your system. More information is available <a href="../../../hazi/git-github-github-classroom/index_eng/#installing-git">here</a>.</p>
</details>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Managing concurrently running threads is a crucial topic that every software developer should be familiar with at least at a basic level. During this laboratory, we will solve fundamental but critical problems, so we should strive not only to achieve the final result but also to understand the purpose and reasoning behind the modifications made.</p>
<p>In this task, we will enhance a simple WinUI application with multithreading capabilities, solving increasingly complex problems. The initial problem is the following: we have a function that takes a long time to execute, and as we will see, calling it "directly" from the UI leads to unpleasant consequences. As part of the solution, we will extend an existing application with custom code snippets. The newly inserted lines will be highlighted in the guide.</p>
<h2 id="task-0-getting-familiar-with-the-starter-application-and-preparation">Task 0 - Getting familiar with the starter application and preparation<a class="headerlink" href="#task-0-getting-familiar-with-the-starter-application-and-preparation" title="Permanent link">&para;</a></h2>
<p>Clone the <a href="https://github.com/bmeviauab00/lab-tobbszalu-kiindulo">repository</a> for the 4<sup>th</sup> laboratory:</p>
<ul>
<li>Open a command prompt.</li>
<li>Navigate to any folder, e.g., <code>c:\work\NEPTUN</code>.</li>
<li>Execute the following command: <code>git clone https://github.com/bmeviauab00/lab-tobbszalu-kiindulo.git</code>.</li>
<li>Open the <em>SuperCalculator.sln</em> solution in Visual Studio.</li>
</ul>
<p>Our task is to create a user interface in WinUI to execute an algorithm provided in binary form. In .NET, binary format means a <em>.dll</em> file, which, from a programming perspective, is a class library. The file we will use is <em>Algorithms.dll</em>, located in the cloned Git repository (<em>External</em> folder).</p>
<p>The user interface in the starter application is already prepared. Run the application:</p>
<p><a class="glightbox" href="../images/starter.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="starter" src="../images/starter.png" /></a></p>
<p>In the application interface, we can specify the input parameters of the algorithm (an array of <code>double</code> numbers): in our example, the algorithm always takes two <code>double</code> numbers as parameters, which can be entered in the two upper text boxes.
Our task is to execute the algorithm with the given parameters when clicking the <em>Calculate Result</em> button and then display the result along with the input parameters in a new row of the <code>ListBox</code> under <em>Result</em>.</p>
<p>Next, let's get familiar with the downloaded Visual Studio solution:</p>
<p>The framework application is a WinUI 3-based application. The interface is mostly complete, and its definition is in the <code>MainWindow.xaml</code> file. This aspect is less relevant for us according to the aim of the laboratory, but it is worth reviewing at home for further practice.</p>
<details class="note">
<summary>User interface setup in <code>MainWindow.xaml</code></summary>
<p>The basic structure of the window interface:</p>
<ul>
<li>The root element is a <code>Grid</code>, which is a common practice.</li>
<li>The top row of the root <code>Grid</code> contains a <code>StackPanel</code> with two <code>TextBox</code> elements and a <code>Button</code>.</li>
<li>The bottom row of the root <code>Grid</code> contains another <code>Grid</code>. Unlike <code>TextBox</code>, <code>ListBox</code> does not have a <code>Header</code> property, so we introduced a separate <code>TextBlock</code> labeled "Result" for this purpose. Using a <code>Grid</code> instead of a simpler <code>StackPanel</code> allows us to fix the height of the top row while letting the <code>ListBox</code> fill the remaining space (<code>Auto</code> height for the top row, <code>*</code> height for the bottom row).</li>
<li>The "Calculate Result" button demonstrates that the <code>Content</code> property of a <code>Button</code> is often more than just plain text. In this example, it consists of a <code>SymbolIcon</code> and a <code>TextBlock</code> combined using a <code>StackPanel</code>, enhancing its appearance with an appropriate icon.</li>
<li>We also see an example of how to make a <code>ListBox</code> scrollable if it already contains many items (or if the items are too wide). This is achieved by properly setting its <code>ScrollViewer</code>.</li>
<li>The <code>ItemContainerStyle</code> property of <code>ListBox</code> is used to apply styles to its items. In this example, the <code>Padding</code> was reduced from its default value to avoid excessive spacing.</li>
</ul>
</details>
<p>The <code>MainWindow.xaml.cs</code> source file contains the code-behind for the main window. Key elements include:</p>
<ul>
<li>The <code>ShowResult</code> helper function, which logs results and parameters into the <code>ListBox</code>.</li>
<li>The <code>CalculateResultButton_Click</code> event handler for the <em>Calculate Result</em> button. This reads values from the text boxes and attempts to convert them to numbers. If successful, this is where the algorithm will be called (not yet implemented). If conversion fails, the <code>DisplayInvalidElementDialog</code> function shows a message box informing the user about invalid parameters.</li>
<li>The <code>AddKeyboardAcceleratorToChangeTheme</code> function, called from the constructor, is not relevant to us — it enables switching between light and dark themes (try pressing <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-t">T</kbd></span> during execution).</li>
</ul>
<h3 id="using-the-code-in-the-dll">Using the code in the DLL<a class="headerlink" href="#using-the-code-in-the-dll" title="Permanent link">&para;</a></h3>
<p>The <em>Algorithm.dll</em> file is included in the starter project. It contains a <code>SuperAlgorithm</code> class within the <code>Algorithms</code> namespace, which provides a static method called <code>Calculate</code>. To use classes from a DLL in a project, we need to add a reference to it.</p>
<ol>
<li>
<p>In Solution Explorer, right-click the <em>Dependencies</em> node of the project and select <em>Add Project Reference</em>.</p>
<p><a class="glightbox" href="../images/add-project-ref.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Add project reference" src="../images/add-project-ref.png" /></a></p>
<div class="admonition note">
<p class="admonition-title">External references</p>
<p>Although we are not referencing another Visual Studio project, this is the easiest way to access this window.</p>
<p>In real projects, external class libraries are typically not referenced as DLL files directly. Instead, they are obtained from NuGet, .NET's package management system. Since <em>Algorithm.dll</em> is not published on NuGet, we need to manually add it.</p>
</div>
</li>
<li>
<p>In the pop-up window, use the <em>Browse</em> button in the bottom right corner to locate and select the <em>Algorithms.dll</em> file from the project's <em>External</em> subfolder. Confirm by clicking OK.</p>
</li>
</ol>
<p>In Solution Explorer, under the project's <em>Dependencies</em> node, we can see the referenced external dependencies. The previously added <code>Algorithms</code> reference now appears under <em>Assemblies</em>. The <em>Frameworks</em> category lists .NET framework packages, and <em>Analyzers</em> contain static code analysis tools used during compilation. Normally, project or NuGet references would also appear here.</p>
<p><a class="glightbox" href="../images/dependencies.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Dependencies" src="../images/dependencies.png" /></a></p>
<p>Right-click the <code>Algorithms</code> reference and select <em>View in Object Browser</em>. This opens the Object Browser tab, where we can inspect the namespaces, classes, and their members (fields, methods, properties, events) within the DLL. Visual Studio extracts this from metadata of the DLL using the reflection mechanism (which we can also use in our own code).</p>
<p>In the Object Browser, expand the <code>Algorithms</code> node on the left, revealing a <code>SuperAlgorithm</code> class inside the <code>Algorithms</code> namespace. Selecting this class displays its methods in the middle panel, and choosing a method shows its exact signature:</p>
<p><a class="glightbox" href="../images/object-browser.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Object browser" src="../images/object-browser.png" /></a></p>
<h2 id="task-1-running-the-operation-on-the-main-thread">Task 1 – Running the operation on the main thread<a class="headerlink" href="#task-1-running-the-operation-on-the-main-thread" title="Permanent link">&para;</a></h2>
<p>Now we can move on to executing the algorithm. As a first step, we will run it on the main thread of our application.</p>
<ol>
<li>
<p>Call the <code>Calculate</code> function within the <code>Click</code> event handler of the button on the main window. To do this, open the <code>MainWindow.xaml.cs</code> code-behind file in Solution Explorer and find the <code>CalculateResultButton_Click</code> event handler. Extend the code by calling the newly referenced algorithm.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">CalculateResultButton_Click</span><span class="p">(</span><span class="kt">object</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">RoutedEventArgs</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param1TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param2TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p2</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="p">};</span>

<span class="hll"><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Algorithms</span><span class="p">.</span><span class="n">SuperAlgorithm</span><span class="p">.</span><span class="n">Calculate</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>
</span><span class="hll"><span class="w">        </span><span class="n">ShowResult</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nf">DisplayInvalidElementDialog</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Run and try the application! Notice that the window does not respond to movements or resizing during the calculation. The interface practically freezes.</p>
</li>
</ol>
<p>Our application, like all Windows applications, is event-driven. The operating system notifies our application of various interactions (e.g., movement, resizing, mouse clicks). However, since the application’s single thread is occupied with computation after pressing the button, it cannot immediately process additional user commands. Once the computation completes (and the results appear in the list), any previously issued commands will then be executed.</p>
<h2 id="task-2-perform-the-calculation-in-a-separate-thread">Task 2 – Perform the calculation in a separate thread<a class="headerlink" href="#task-2-perform-the-calculation-in-a-separate-thread" title="Permanent link">&para;</a></h2>
<p>The next step is to run the computation on a separate thread so that it does not block the user interface.</p>
<ol>
<li>
<p>Create a new function in the <code>MainWindow</code> class, which will serve as the entry point for the worker thread.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">CalculatorThread</span><span class="p">(</span><span class="kt">object</span><span class="w"> </span><span class="n">arg</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">[])</span><span class="n">arg</span><span class="p">;</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Algorithms</span><span class="p">.</span><span class="n">SuperAlgorithm</span><span class="p">.</span><span class="n">Calculate</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>
<span class="w">    </span><span class="n">ShowResult</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Start the thread within the button's <code>Click</code> event handler. Replace the previously added code with the following:</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">CalculateResultButton_Click</span><span class="p">(</span><span class="kt">object</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">RoutedEventArgs</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param1TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param2TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p2</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="p">};</span>

<span class="hll"><span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">th</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">CalculatorThread</span><span class="p">);</span>
</span><span class="hll"><span class="w">        </span><span class="n">th</span><span class="p">.</span><span class="n">Start</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nf">DisplayInvalidElementDialog</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>The <code>CalculatorThread</code> function receives the parameter passed via the <code>Start</code> method of the <code>Thread</code> object.</p>
</li>
<li>
<p>Run the application using <span class="keys"><kbd class="key-f5">F5</kbd></span> (it is important to run it with the debugger now). We receive the error message:<br />
<em>The application called an interface that was marshalled for a different thread. (0x8001010E (RPC_E_WRONG_THREAD))</em><br />
   This error occurs in the <code>ShowResult</code> method because we are trying to access a UI element from a thread that did not create it. In the next task, we will analyze and resolve this issue.</p>
</li>
</ol>
<h2 id="task-3-using-dispatcherqueuehasthreadaccess-and-dispatcherqueuetryenqueue">Task 3 – Using <code>DispatcherQueue.HasThreadAccess</code> and <code>DispatcherQueue.TryEnqueue</code><a class="headerlink" href="#task-3-using-dispatcherqueuehasthreadaccess-and-dispatcherqueuetryenqueue" title="Permanent link">&para;</a></h2>
<p>In the previous section, the issue is caused by the following rule in WinUI applications:<br />
Windows/UI elements/controls are by default <strong>not thread-safe</strong> objects. This means that <strong>a Window/UI element/control must only be accessed (e.g., reading/writing properties, invoking methods) from the thread that created it</strong>, otherwise, an exception will be thrown. In our application, the exception occurred because the <code>resultListBox</code> control was created on the main thread, but we tried to access it from a different thread within the <code>ShowResult</code> method (specifically, in the <code>resultListBox.Items.Add</code> call).  </p>
<p>The question is how we can access these UI elements/controls from another thread. The solution is the use of <code>DispatcherQueue</code>, which helps ensure that access to the controls always occurs from the correct thread:</p>
<ul>
<li>The <code>TryEnqueue</code> function of the <code>DispatcherQueue</code> object runs the function provided as a parameter on the thread that created the control (so we can directly access the control from this function).</li>
<li>The <code>HasThreadAccess</code> property the <code>DispatcherQueue</code> object helps determine whether it is necessary to use the <code>TryEnqueue</code> mentioned in the previous point. If the property value is:<ul>
<li>true, then we can access the control directly (because the current thread is the same as the thread that created the control), but if it is</li>
<li>false, then the control can only be accessed indirectly, through the <code>TryEnqueue</code> of the <code>DispatcherQueue</code> object (because the current thread is NOT the same as the thread that created the control).</li>
</ul>
</li>
</ul>
<p>With the help of <code>DispatcherQueue</code>, we can avoid the previous exception (we can "redirect" access to the control, in this case, <code>resultListBox</code>, to the appropriate thread). This is what we will do next.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>DispatcherQueue</code> object is available in subclasses of the <code>Window</code> class through the <code>DispatcherQueue</code> property (in other classes, it can be obtained using the <code>DispatcherQueue.GetForCurrentThread()</code> static method).</p>
</div>
<p>We need to modify the <code>ShowResult</code> method to ensure that it does not throw an exception when called from a worker thread.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">ShowResult</span><span class="p">(</span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="c1">// Closing the window the DispatcherQueue property may return null, so we have to perform a null check</span>
</span><span class="hll"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">DispatcherQueue</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span class="hll"><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span>
<span class="hll"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">DispatcherQueue</span><span class="p">.</span><span class="n">HasThreadAccess</span><span class="p">)</span>
</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ListBoxItem</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">Content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">$&quot;{parameters[0]} #  {parameters[1]} = {result}&quot;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">        </span><span class="n">resultListBox</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">        </span><span class="n">resultListBox</span><span class="p">.</span><span class="n">ScrollIntoView</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span><span class="p">{</span>
<span class="hll"><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="n">DispatcherQueue</span><span class="p">.</span><span class="n">TryEnqueue</span><span class="p">(</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ShowResult</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
</span><span class="hll"><span class="w">    </span><span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
<p>Let's try it!</p>
<p>This solution is now working, and its main elements are the followings:</p>
<ul>
<li>The role of the <code>DispatcherQueue</code> <code>null</code> check: after the main window is closed, the <code>DispatcherQueue</code> is <code>null</code> and cannot be used.</li>
<li>Using <code>DispatcherQueue.HasThreadAccess</code>, we check whether the calling thread can directly access the controls (in our case, the <code>ListBox</code>):<ul>
<li>If yes, everything happens as before, and the code handling the <code>ListBox</code> remains unchanged.</li>
<li>If not, we access the control through <code>DispatcherQueue.TryEnqueue</code>. The following trick is used. We pass a parameterless, single-line function as a lambda expression to the <code>TryEnqueue</code> function, which invokes our <code>ShowResult</code> function (practically recursively), passing the parameters along. This is beneficial for us because this <code>ShowResult</code> call occurs on the thread that created the control (the main thread of the application), where the <code>HasThreadAccess</code> value is now <code>true</code>, and we can directly access our <code>ListBox</code>. This recursive approach is a common pattern for avoiding redundant code.</li>
</ul>
</li>
</ul>
<p>Let's set a breakpoint on the first line of the <code>ShowResult</code> method and, by running the application, make sure that when the <code>ShowResult</code> method is called for the first time, <code>HasThreadAccess</code> is still false (so the <code>TryEnqueue</code> is called), and as a result, <code>ShowResult</code> is called again, but this time <code>HasThreadAccess</code> is true.</p>
<p>Now, remove the breakpoint and run the application again: notice that while one computation is running, we can start new ones as well, since our interface remains responsive throughout (and the previously experienced error no longer occurs).</p>
<h2 id="task-4-performing-an-operation-on-a-threadpool-thread">Task 4 – Performing an operation on a ThreadPool thread<a class="headerlink" href="#task-4-performing-an-operation-on-a-threadpool-thread" title="Permanent link">&para;</a></h2>
<p>A characteristic of the previous solution is that it always creates a new thread for the operation. In our case, this is not particularly significant, but this approach can be problematic for a server application that handles a large number of requests while creating a separate thread for each request. There are two main reasons for this:</p>
<ul>
<li>If the thread function completes quickly (i.e., serving a client is fast), a large portion of the CPU is wasted on creating and terminating threads, as these operations themselves are resource-intensive.</li>
<li>Too many threads might be created, which the operating system must schedule, leading to unnecessary resource wastage.</li>
</ul>
<p>Another issue with our current solution is that, since the computation runs on a <strong>foreground thread</strong> (newly created threads are foreground threads by default), closing the application does not stop the program. It continues running in the background until the last computation completes. This happens because a process only terminates when no foreground threads are left running.</p>
<p>Let's modify the button event handler so that, instead of starting a new thread, it runs the computation on a <strong>ThreadPool</strong> thread. To do this, we only need to rewrite the button click event handler again.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">CalculateResultButton_Click</span><span class="p">(</span><span class="kt">object</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">RoutedEventArgs</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param1TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param2TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p2</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="p">};</span>

<span class="hll"><span class="w">        </span><span class="n">ThreadPool</span><span class="p">.</span><span class="n">QueueUserWorkItem</span><span class="p">(</span><span class="n">CalculatorThread</span><span class="p">,</span><span class="w"> </span><span class="n">parameters</span><span class="p">);</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nf">DisplayInvalidElementDialog</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Try running the application, and notice that when the window is closed, the application shuts down immediately, without dealing with any threads that may still be running (because the thread pool threads are background threads).</p>
<h2 id="task-5-producer-consumer-based-solution">Task 5 – Producer-Consumer based solution<a class="headerlink" href="#task-5-producer-consumer-based-solution" title="Permanent link">&para;</a></h2>
<p>In the previous tasks, we arrived at a fully functional solution to the original problem, allowing multiple worker threads to run calculations in parallel if the button is pressed multiple times. Now, we will modify the application so that pressing the button does not always create a new thread. Instead, tasks will be added to a task queue, from which multiple, in the background continuously running, threads will sequentially retrieve and execute them. This problem is a classic producer-consumer scenario, which occurs frequently in practice. The following diagram illustrates how it works.</p>
<p><a class="glightbox" href="../images/termelo-fogyaszto.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Producer-Consumer" src="../images/termelo-fogyaszto.png" /></a></p>
<div class="admonition tip">
<p class="admonition-title">Producer-Consumer vs. <code>ThreadPool</code></p>
<p>If we think about it, the <code>ThreadPool</code> itself is a specialized producer-consumer and scheduling mechanism provided by .NET. In the following, we will develop a different type of producer-consumer solution to encounter specific concurrency issues related to thread management.</p>
</div>
<p>Our main thread acts as the producer, creating a new task whenever the <em>Calculate result</em> button is clicked. We will launch multiple consumer/worker threads to take advantage of multiple CPU cores and parallelize task execution.</p>
<p>For temporary task storage, we can use the <code>DataFifo</code> class, which has already been partially prepared in our base project (found in the <code>Data</code> folder in the Solution Explorer). Let's examine its source code. It implements a simple FIFO queue that stores <code>double[]</code> elements. The <code>Put</code> method appends new items to the end of the internal list, while the <code>TryGet</code> method retrieves (and removes) the first element of the list. If the list is empty, the function cannot return an item and indicates this by returning <code>false</code>.</p>
<ol>
<li>
<p>Modify the button event handler so that tasks are added to the FIFO queue instead of using the <code>ThreadPool</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">CalculateResultButton_Click</span><span class="p">(</span><span class="kt">object</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">RoutedEventArgs</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param1TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">param2TextBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">p2</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="p">};</span>

<span class="hll"><span class="w">        </span><span class="n">_fifo</span><span class="p">.</span><span class="n">Put</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nf">DisplayInvalidElementDialog</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Implement the new worker thread function in our form class:</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">WorkerThread</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_fifo</span><span class="p">.</span><span class="n">TryGet</span><span class="p">(</span><span class="k">out</span><span class="w"> </span><span class="kt">var</span><span class="w"> </span><span class="n">data</span><span class="p">))</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Algorithms</span><span class="p">.</span><span class="n">SuperAlgorithm</span><span class="p">.</span><span class="n">Calculate</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="w">            </span><span class="n">ShowResult</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">500</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The <code>Thread.Sleep</code> statement is necessary because, without it, worker threads would continuously spin when the FIFO is empty, unnecessarily consuming 100% of a CPU core without performing any useful work. Our solution is not ideal; we will improve it later.</p>
</li>
<li>
<p>Create and start the worker threads in the constructor:</p>
<div class="highlight"><pre><span></span><code><span class="k">new</span><span class="w"> </span><span class="nf">Thread</span><span class="p">(</span><span class="n">WorkerThread</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Worker thread 1&quot;</span><span class="w"> </span><span class="p">}.</span><span class="n">Start</span><span class="p">();</span>
<span class="k">new</span><span class="w"> </span><span class="nf">Thread</span><span class="p">(</span><span class="n">WorkerThread</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Worker thread 2&quot;</span><span class="w"> </span><span class="p">}.</span><span class="n">Start</span><span class="p">();</span>
<span class="k">new</span><span class="w"> </span><span class="nf">Thread</span><span class="p">(</span><span class="n">WorkerThread</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Worker thread 3&quot;</span><span class="w"> </span><span class="p">}.</span><span class="n">Start</span><span class="p">();</span>
</code></pre></div>
</li>
<li>
<p>Run the application and close it immediately without clicking the <em>Calculate Result</em> button. We observe that while the window closes, the process continues running. The application can only be terminated through Visual Studio or the Task Manager:</p>
<p><a class="glightbox" href="../images/stop-debugging.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Stop Debugging" src="../images/stop-debugging.png" /></a></p>
<p>The worker threads are foreground threads, preventing the process from terminating upon exit. One possible solution is to set their <code>IsBackground</code> property to <code>true</code> after creation. Another solution is to explicitly ensure worker threads exit upon application shutdown. We will revisit this issue later.</p>
</li>
<li>
<p>Run the application again, and after clicking the <em>Calculate Result</em> button (just once), we are likely to encounter an exception. The problem is that <code>DataFifo</code> is not thread-safe and has become inconsistent. Two underlying reasons contribute to this:</p>
</li>
</ol>
<h3 id="problem-1">Problem 1<a class="headerlink" href="#problem-1" title="Permanent link">&para;</a></h3>
<p>Let's consider the following scenario:</p>
<ol>
<li>The queue is empty. The worker threads continuously poll the FIFO in a <code>while</code> loop, i.e., they call the <code>TryGet</code> method.</li>
<li>The user puts a task into the queue.</li>
<li>One of the worker threads sees that there is data in the queue in the <code>TryGet</code> method, i.e., the condition <code>if (_innerList.Count &gt; 0)</code> is satisfied, and it proceeds to the next line of code. Let's assume this thread loses its execution right at this point and doesn't have time to remove the data from the queue.</li>
<li>Another worker thread also evaluates the <code>if (_innerList.Count &gt; 0)</code> condition at the same time, and since the condition is still satisfied, it removes the data from the queue.</li>
<li>The first thread is re-scheduled, it wakes up, and tries to remove data from the queue, but the queue is already empty as the second thread has already removed the only data. This results in an exception when accessing <code>_innerList[0]</code>.</li>
</ol>
<p>We can only avoid this problem by making the check for the emptiness of the queue and the removal of the item "atomic": <strong>this means that while one thread has not finished both operations, the other threads must wait!</strong></p>
<div class="admonition note">
<p class="admonition-title">Thread.Sleep(500)</p>
<p>The <code>Thread.Sleep(500);</code> line following the emptiness check is only there to increase the likelihood of the above unfortunate scenario happening in our example (as this makes it almost certain that the thread will be rescheduled). We will remove it later, but for now, let's leave it in.</p>
</div>
<h3 id="problem-2">Problem 2<a class="headerlink" href="#problem-2" title="Permanent link">&para;</a></h3>
<p>The <code>DataFifo</code> class allows concurrent access to the <code>_innerList</code> member variable, which is of type <code>List&lt;double[]&gt;</code>, from multiple threads. However, if we look at the <code>List&lt;T&gt;</code> documentation, we find that the class is not thread-safe. In this case, we cannot allow this; we need to ensure <strong>mutual exclusion</strong> with locks: we must ensure that only one thread can access a method/property/member variable at a time (specifically, inconsistency can occur only in cases of simultaneous writing or simultaneous writing and reading, but we usually don't differentiate between writers and readers, and we won't do that here either).</p>
<p>In the next step, we will make the <code>DataFifo</code> class thread-safe, which will prevent the two problems described above from occurring.</p>
<h2 id="task-6-make-the-datafifo-class-thread-safe">Task 6 – Make the <code>DataFifo</code> class thread-safe<a class="headerlink" href="#task-6-make-the-datafifo-class-thread-safe" title="Permanent link">&para;</a></h2>
<p>To make the <code>DataFifo</code> class thread-safe, we need an object (which can be any reference type object) that we can use as a key for locking. We can then use the <code>lock</code> keyword to ensure that only one thread is inside the locked code block at a time.</p>
<ol>
<li>
<p>Add an <code>object</code> field named <code>_syncRoot</code> to the <code>DataFifo</code> class.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="kt">object</span><span class="w"> </span><span class="n">_syncRoot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">object</span><span class="p">();</span>
</code></pre></div>
</li>
<li>
<p>Modify the <code>Put</code> and <code>TryGet</code> methods to use locking.</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Put</span><span class="p">(</span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
</span><span class="hll"><span class="w">    </span><span class="p">{</span>
</span><span class="w">        </span><span class="n">_innerList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">data</span><span class="p">);</span><span class="w"> </span>
<span class="hll"><span class="w">    </span><span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">TryGet</span><span class="p">(</span><span class="k">out</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
</span><span class="hll"><span class="w">    </span><span class="p">{</span>
</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_innerList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">500</span><span class="p">);</span>

<span class="w">            </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_innerList</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
<span class="w">            </span><span class="n">_innerList</span><span class="p">.</span><span class="n">RemoveAt</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="hll"><span class="w">    </span><span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Surround with</p>
<p>Use Visual Studio's <em>Surround with</em> feature by pressing CTRL + K, CTRL + S to wrap the selected code block.</p>
</div>
</li>
</ol>
<p>Now, we should no longer receive exceptions.</p>
<p>We can also remove the artificial delay (<code>Thread.Sleep(500);</code>) from the <code>TryGet</code> method.</p>
<div class="admonition error">
<p class="admonition-title">Locking on <code>this</code></p>
<p>One might wonder why we introduced a separate <code>_syncRoot</code> field and used it for locking instead of using <code>this</code> (since <code>DataFifo</code> is a reference type, there would be no issue with that). However, using <code>this</code> <strong>would violate the encapsulation</strong> of our class! Remember: <code>this</code> is a reference to our object, but other classes may also have a reference to this same object (for example, in our case, <code>MainWindow</code> has a reference to <code>DataFifo</code>), and if these external classes place a lock on the object using <code>lock</code>, it will "interfere" with the internal locking mechanism (since using <code>this</code> the <code>lock</code> parameter will be the same for both the external and internal <code>lock</code>). For example, an external lock could completely "freeze" the <code>TryGet</code> and <code>Put</code> operations. In contrast, in our chosen solution, the <code>lock</code> parameter, the <code>_syncRoot</code> variable, is private, meaning external classes cannot access it and thus cannot disrupt the internal workings of our class.</p>
</div>
<h2 id="task-7-efficient-signaling-implementation">Task 7 – Efficient signaling implementation<a class="headerlink" href="#task-7-efficient-signaling-implementation" title="Permanent link">&para;</a></h2>
<h3 id="using-manualresetevent">Using <code>ManualResetEvent</code><a class="headerlink" href="#using-manualresetevent" title="Permanent link">&para;</a></h3>
<p>The continuous <code>while</code> loop running in the <code>WorkerThread</code> implements active waiting, which should always be avoided. Without <code>Thread.Sleep</code>, it would max out the CPU. While <code>Thread.Sleep</code> solves the CPU overload problem, it introduces another issue: if all three worker threads are asleep when new data arrives, there is unnecessary waiting (500ms) before processing the new data.</p>
<p>Next, we will modify the application to wait blocked data is added to the FIFO (but start processing immediately once data is available). To signal whether there is data in the queue, we will use a <code>ManualResetEvent</code>.</p>
<ol>
<li>
<p>Add a <code>ManualResetEvent</code> instance named <code>_hasData</code> to the <code>DataFifo</code> class.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// The &#39;false&#39; constructor parameter means the event is initially non-signaled (gate closed)</span>
<span class="k">private</span><span class="w"> </span><span class="n">ManualResetEvent</span><span class="w"> </span><span class="n">_hasData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ManualResetEvent</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
</code></pre></div>
</li>
<li>
<p>The <code>_hasData</code> event acts as a gate in our application. When data is added to the list, we "open" it, and when the list becomes empty, we "close" it.</p>
<div class="admonition tip">
<p class="admonition-title">The semantics and naming of the event</p>
<p>It is essential to choose the semantics of our event correctly and to express this clearly with the variable name. In our example, the <code>_hasData</code> name accurately conveys that our event is signaled (gate open) precisely when and only when there is data to be processed. Now, our "only" task is to implement this semantics: set the event to signaled when data is added to the FIFO and reset it when the FIFO is emptied.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Put</span><span class="p">(</span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">_innerList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="hll"><span class="w">        </span><span class="n">_hasData</span><span class="p">.</span><span class="n">Set</span><span class="p">();</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">TryGet</span><span class="p">(</span><span class="k">out</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_innerList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_innerList</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
<span class="w">            </span><span class="n">_innerList</span><span class="p">.</span><span class="n">RemoveAt</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
<span class="hll"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_innerList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
</span><span class="hll"><span class="w">            </span><span class="p">{</span>
</span><span class="hll"><span class="w">                </span><span class="n">_hasData</span><span class="p">.</span><span class="n">Reset</span><span class="p">();</span>
</span><span class="hll"><span class="w">            </span><span class="p">}</span>
</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ol>
<h3 id="waiting-for-signal-blocking-get">Waiting for signal (Blocking Get)<a class="headerlink" href="#waiting-for-signal-blocking-get" title="Permanent link">&para;</a></h3>
<p>In the previous step, we implemented signaling, but this alone is not very useful since there are no waiting threads. Now, we will implement this.</p>
<ol>
<li>
<p>Modify the method as follows: insert a wait for the <code>_hasData</code> event.</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">TryGet</span><span class="p">(</span><span class="k">out</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="hll"><span class="w">        </span><span class="n">_hasData</span><span class="p">.</span><span class="n">WaitOne</span><span class="p">();</span>
</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_innerList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">            </span><span class="c1">// ...</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Return value of the WaitOne method</p>
<p>The <code>WaitOne</code> method returns a <code>bool</code> value, which is <code>true</code> if the event is signaled before the timeout specified in the <code>WaitOne</code> parameter (or <code>false</code> if the timeout expires). In our example, we did not specify a timeout parameter, which means an infinite timeout is applied. Accordingly, we do not check the return value (since it will wait indefinitely for a signal).</p>
</div>
</li>
<li>
<p>This makes the <code>Thread.Sleep</code> in <code>WorkerThread</code> unnecessary, so comment it out!</p>
<p>When running the above solution, we notice that the application's interface freezes after the first button press. This happens because we made a rookie mistake in our previous solution. We are waiting for the <code>_hasData</code> signal inside a locked section of code, which means the main thread has no chance to send a signal with <code>_hasData</code> in the <code>Put</code> method (which is also within a <code>lock</code>-protected section).  <strong>This results in a deadlock situation.</strong>  It's important to carefully analyze the code to understand why this happens:</p>
<ul>
<li>In <code>TryGet</code>, one of the worker threads (that entered the <code>lock</code> block among the three) waits at <code>_hasData.WaitOne()</code> for the main thread to signal <code>_hasData</code> in <code>Put</code>.</li>
<li>Meanwhile, in <code>Put</code>, the main thread waits at the <code>lock</code> statement for the worker thread in <code>TryGet</code> to exit its <code>lock</code> block.</li>
</ul>
<p>They are mutually waiting for each other indefinitely, which is a classic deadlock scenario.</p>
<p>We could try adding a timeout (in milliseconds) when waiting (this is just for illustration, not required to implement):</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_hasData</span><span class="p">.</span><span class="n">WaitOne</span><span class="p">(</span><span class="m">100</span><span class="p">))</span>
</code></pre></div>
<p>However, this would not be an elegant solution. Moreover, continuously polling worker threads would significantly starve the thread calling <code>Put</code>. Instead, the proper and recommended approach is to avoid blocking waits inside a <code>lock</code>.</p>
<p>As a fix, swap the positions of <code>lock</code> and <code>WaitOne</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">TryGet</span><span class="p">(</span><span class="k">out</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="n">_hasData</span><span class="p">.</span><span class="n">WaitOne</span><span class="p">();</span>
</span><span class="hll">
</span><span class="hll"><span class="w">    </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
</span><span class="hll"><span class="w">    </span><span class="p">{</span>
</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_innerList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_innerList</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
<span class="w">            </span><span class="n">_innerList</span><span class="p">.</span><span class="n">RemoveAt</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_innerList</span><span class="p">.</span><span class="n">Count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">_hasData</span><span class="p">.</span><span class="n">Reset</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Try running the application again, now it works correctly.</p>
</li>
<li>
<p>The role of the empty check inside the <code>lock</code> block.</p>
<p>In the previous step, we introduced a <code>ManualResetEvent</code> object named <code>_hasData</code> in <code>TryGet</code>. This is in a signaled state exactly when there is data in the FIFO. The question is: is the empty check (<code>if (_innerList.Count &gt; 0)</code>) still needed inside the <code>lock</code> block? At first glance, we might think it's redundant. Let's try replacing the empty check inside the <code>if</code> with a fixed <code>true</code> value, effectively neutralizing the <code>if</code> condition (we're doing it this way so that it's easy to reverse):</p>
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_innerList</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
<span class="w">        </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>Let's try it. We will encounter an exception when we click the button: the solution is now <strong>not thread-safe</strong>. Let's break down why:</p>
<ul>
<li>When the application starts, all three worker threads wait for data to be placed in the FIFO at <code>_hasData.WaitOne()</code>.</li>
<li>When the button is clicked, the <code>Put</code> method signals <code>_hasData</code>.</li>
<li>In <code>TryGet</code>, all three threads pass through the line <code>_hasData.WaitOne();</code> (since this is a <code>ManualResetEvent</code>, once it's signaled, all threads can continue).</li>
<li>Only one thread enters the <code>lock</code> block; the other two are waiting (only one thread can be inside the <code>lock</code> block at a time). This thread removes the first and only element from <code>_innerList</code> and then exits the <code>lock</code> block.</li>
<li>Now, one of the two threads that was waiting at the <code>lock</code> can enter the block (they've already passed the <code>_hasData.WaitOne()</code>!!!), and it tries to remove the 0<sup>th</sup> element from <code>_innerList</code>. But it's no longer there (the first thread already took it), which results in an exception.</li>
</ul>
<p>The solution: We need to ensure inside the <code>lock</code> block that if another thread empties the list in the meantime, our thread does not try to remove an element. So, we need to reintroduce the previous empty check. Let's do that! Now our solution works correctly. It might still happen that we check the list unnecessarily, but for now, we're okay with that.</p>
</li>
</ol>
<p>In summary:</p>
<ul>
<li>The empty check is still necessary even after introducing the <code>ManualResetEvent</code>.</li>
<li>
<p>The purpose of the <code>ManualResetEvent</code> is to prevent unnecessary polling of the list when it's empty, thus avoiding active waiting.</p>
<div class="admonition note">
<p class="admonition-title">The challenges of programming in a concurrent, multithreaded environment</p>
<p>This task clearly illustrates the careful thought required for programming in a concurrent, multithreaded environment. In fact, we were somewhat fortunate earlier because the error was reproducible. In practice, however, this is rarely the case. Unfortunately, it’s much more common for concurrency errors to cause intermittent, non-reproducible problems. Solving tasks like this always requires a lot of consideration, and they cannot be coded following the "I’ll keep trying until it works in manual testing" approach.</p>
</div>
<div class="admonition note">
<p class="admonition-title">System.Collections.Concurrent</p>
<p>The .NET framework includes several built-in thread-safe classes in the <code>System.Collections.Concurrent</code> namespace. In the above example, we could have replaced the <code>DataFifo</code> class with the <code>System.Collections.Concurrent.ConcurrentQueue</code> class.</p>
</div>
</li>
</ul>
<h2 id="task-8-elegant-shutdown">Task 8 – Elegant shutdown<a class="headerlink" href="#task-8-elegant-shutdown" title="Permanent link">&para;</a></h2>
<p>Earlier, we put aside the problem where our process "hangs" when the window is closed, because the worker threads were foreground threads, and we hadn't solved how to exit them properly. Our goal now is to ensure that the worker threads shut down gracefully when the application is closed, replacing the infinite <code>while</code> loop.</p>
<ol>
<li>
<p>Use a <code>ManualResetEvent</code> to signal the shutdown in <code>TryGet</code> during the wait. We will add a new <code>ManualResetEvent</code> to the FIFO and introduce a <code>Release</code> method that can be used to end the waiting state (by setting our new event to the signaled state).</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="n">ManualResetEvent</span><span class="w"> </span><span class="n">_releaseTryGet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ManualResetEvent</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

<span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Release</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">_releaseTryGet</span><span class="p">.</span><span class="n">Set</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>In <code>TryGet</code>, wait for this new event as well. The <code>WaitAny</code> method will allow the execution to proceed when any of the <code>WaitHandle</code> objects provided in its parameters are signaled. It returns the index of the signaled object in the array. Actual data processing should only occur when <code>_hasData</code> is signaled (which will cause <code>WaitAny</code> to return 0).</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">TryGet</span><span class="p">(</span><span class="k">out</span><span class="w"> </span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">WaitHandle</span><span class="p">.</span><span class="n">WaitAny</span><span class="p">(</span><span class="k">new</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_hasData</span><span class="p">,</span><span class="w"> </span><span class="n">_releaseTryGet</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">lock</span><span class="w"> </span><span class="p">(</span><span class="n">_syncRoot</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
</code></pre></div>
</li>
<li>
<p>In <code>MainWindow.xaml.cs</code>, add a flag variable to indicate when the window is closed.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isClosed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</code></pre></div>
</li>
<li>
<p>When the main window is closed, signal the new event and toggle the flag. Subscribe to the <code>Closed</code> event in the <code>MainWindow</code> class constructor and implement the event handler function:</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="nf">MainWindow</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="n">Closed</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">MainWindow_Closed</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">MainWindow_Closed</span><span class="p">(</span><span class="kt">object</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">WindowEventArgs</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">_isClosed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">    </span><span class="n">_fifo</span><span class="p">.</span><span class="n">Release</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Rewrite the <code>while</code> loop to monitor the flag from the previous step.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">WorkerThread</span><span class="p">()</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">_isClosed</span><span class="p">)</span>
</span><span class="w">    </span><span class="p">{</span>
</code></pre></div>
</li>
<li>
<p>Finally, ensure that no messages are displayed after the window is closed.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">ShowResult</span><span class="p">(</span><span class="kt">double</span><span class="p">[]</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
<span class="hll"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_isClosed</span><span class="p">)</span>
</span><span class="hll"><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Run the application and check if the process indeed terminates properly when we exit the application.</p>
</li>
</ol>
<h2 id="outlook-task-async-await">Outlook: Task, async, await<a class="headerlink" href="#outlook-task-async-await" title="Permanent link">&para;</a></h2>
<p>In this laboratory, we aimed to familiarize ourselves with low-level thread management techniques. However, we could have (partially) implemented our solution using higher-level tools and mechanisms provided by .NET for asynchronous programming, such as the <code>Task</code>/<code>Task&lt;T&gt;</code> classes and the <code>async</code>/<code>await</code> keywords.</p>
<hr>
<div class="md-source-file">
  <span class="md-source-file__fact"> <span class="md-icon" title="Utolsó frissítés"> <svg
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z">
        </path>
      </svg>
    </span>
    <span title="2025. március 27. 11:32:28">
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2025. március 27. 11:32:28"><span class="timeago" datetime="2025-03-27T11:32:28+01:00" locale="hu"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2025. március 27. 11:32:28">2025-03-27</span>
    </span>
  </span>

  

  <span class="md-source-file__fact">
    <span class="md-icon" title="Szerzők">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z">
        </path>
      </svg>
    </span>
    <span>Szerzők</span>
    <nav><a href="https://github.com/Szabó Zoltán" target="_blank" rel="noopener noreferrer" class="md-author" title="@Szabó Zoltán">
        <img src="https://avatars.githubusercontent.com/Szabó Zoltán?size=72" alt="@Szabó Zoltán">
      </a><a href="https://github.com/kszicsillag" target="_blank" rel="noopener noreferrer" class="md-author" title="@kszicsillag">
        <img src="https://avatars.githubusercontent.com/kszicsillag?size=72" alt="@kszicsillag">
      </a><a href="https://github.com/bzolka" target="_blank" rel="noopener noreferrer" class="md-author" title="@bzolka">
        <img src="https://avatars.githubusercontent.com/bzolka?size=72" alt="@bzolka">
      </a><a href="https://github.com/szucscintialia" target="_blank" rel="noopener noreferrer" class="md-author" title="@Cintia Szücs">
        <img src="https://avatars.githubusercontent.com/u/26093637?v=4?size=72" alt="@Cintia Szücs">
      </a></nav>      
  </span>
</div>




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Vissza a tetejére
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BME VIK AUT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest", "content.action.edit", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "search.result.more.one": "1 tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.more.other": "# tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.term.missing": "\u00dcres", "select.version": "Verzi\u00f3v\u00e1lt\u00e1s"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>