
<!doctype html>
<html lang="hu" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Benedek Zoltán">
      
      
        <link rel="canonical" href="https://bmeviauab00.github.io/szoftvertechnikak/2024/labor/5-mvvm/index_eng/">
      
      
        <link rel="prev" href="../../4-tobbszalu/index_eng/">
      
      
        <link rel="next" href="../../../hazi/index_eng/">
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>5. MVVM - BMEVIAUAB00 Szoftvertechnikák</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../extra-material-theme.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aut" data-md-color-primary="aut" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#5-mvvm" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Élőfej">
    <a href="../../.." title="BMEVIAUAB00 Szoftvertechnikák" class="md-header__button md-logo" aria-label="BMEVIAUAB00 Szoftvertechnikák" data-md-component="logo">
      
  <img src="../../../img/logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUAB00 Szoftvertechnikák
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5. MVVM
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="aut" data-md-color-primary="aut" data-md-color-accent="red"  aria-label="Váltás sötét témára"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Váltás sötét témára" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="indigo"  aria-label="Váltás világos témára"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Váltás világos témára" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Keresés">
        
        <button type="reset" class="md-search__icon md-icon" title="Törlés" aria-label="Törlés" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Keresés inicializálása
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bmeviauab00/szoftvertechnikak" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauab00/szoftvertechnikak
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Lapok" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Szoftvertechnikák (2024-től)

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../1-model-es-kod-kapcsolata/" class="md-tabs__link">
          
  
  Laborok

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../hazi/" class="md-tabs__link">
          
  
  Önálló/házi feladatok

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../1-model-es-kod-kapcsolata/index_eng/" class="md-tabs__link">
          
  
  English course labs

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../hazi/index_eng/" class="md-tabs__link">
          
  
  Homework

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../1-model-es-kod-kapcsolata/index_ger/" class="md-tabs__link">
          
  
  Deutschkurs-Labore

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../hazi/meghirdetes-elott_ger/" class="md-tabs__link">
          
  
  Hausaufgaben

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigáció" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="BMEVIAUAB00 Szoftvertechnikák" class="md-nav__button md-logo" aria-label="BMEVIAUAB00 Szoftvertechnikák" data-md-component="logo">
      
  <img src="../../../img/logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUAB00 Szoftvertechnikák
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bmeviauab00/szoftvertechnikak" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauab00/szoftvertechnikak
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Szoftvertechnikák (2024-től)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Laborok
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Laborok
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-model-es-kod-kapcsolata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. A modell és a kód kapcsolata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-nyelvi-eszkozok/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Nyelvi eszközök
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-felhasznaloi-felulet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. A felhasználói felület kialakítása
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-tobbszalu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Többszálú alkalmazások készítése
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-tervezesi-mintak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Tervezési minták (kiterjeszthetőség)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-adatkezeles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Adatkezelés
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Önálló/házi feladatok
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Önálló/házi feladatok
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Útmutató
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/1-model-es-kod-kapcsolata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HF - A modell és a kód kapcsolata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/2-nyelvi-eszkozok/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. HF - Nyelvi eszközök
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/3-felhasznaloi-felulet-kialakitasa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. HF - Felhasználói felület kialakítása
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/4-tobbszalu-alkalmazasok-fejlesztese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. HF - Többszálú alkalmazások fejlesztése
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/5-mvvm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. HF - MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. HF - Tervezési minták
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/imsc-liftsystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HF - Liftrendszer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HF - MVVM receptek
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/fejlesztokornyezet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fejlesztőkörnyezet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    English course labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            English course labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-model-es-kod-kapcsolata/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. The relationship between the model and the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-nyelvi-eszkozok/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Language tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-felhasznaloi-felulet/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. The design of the user interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-tobbszalu/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Developing multithreaded applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-aim-of-the-laboratory" class="md-nav__link">
    <span class="md-ellipsis">
      The aim of the laboratory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starter-project" class="md-nav__link">
    <span class="md-ellipsis">
      Starter Project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-the-mvvm-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      About the MVVM Pattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-0-reviewing-the-starter-project" class="md-nav__link">
    <span class="md-ellipsis">
      Task 0 – Reviewing the starter project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-1-introducing-the-mvvm-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1 – Introducing the MVVM pattern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 1 – Introducing the MVVM pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    <span class="md-ellipsis">
      Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewmodel" class="md-nav__link">
    <span class="md-ellipsis">
      ViewModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view" class="md-nav__link">
    <span class="md-ellipsis">
      View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-2-mvvmtoolkit" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2 - MVVMToolkit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 2 - MVVMToolkit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#observableobject-and-observableproperty" class="md-nav__link">
    <span class="md-ellipsis">
      ObservableObject and ObservableProperty
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-3-command" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3 - Command
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 3 - Command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-icommand" class="md-nav__link">
    <span class="md-ellipsis">
      Using ICommand
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icommand-executability-state" class="md-nav__link">
    <span class="md-ellipsis">
      ICommand executability state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-with-mvvmtoolkit-code-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Command with MVVMToolkit code generator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary_1" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-tervezesi-mintak/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-adatkezeles/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Homework
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Homework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/1-model-es-kod-kapcsolata/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HW - The relationship between the model and the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/2-nyelvi-eszkozok/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. HW - Language tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/3-felhasznaloi-felulet-kialakitasa/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. HW - Implementing the user interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/4-tobbszalu-alkalmazasok-fejlesztese/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. HW - Developing multithreaded applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/5-mvvm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. HW - MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. HW - Design patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HW - Liftsystem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HW - MVVM recipies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/fejlesztokornyezet/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development environment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deutschkurs-Labore
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Deutschkurs-Labore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-model-es-kod-kapcsolata/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Beziehung zwischen dem Modell und dem Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-nyelvi-eszkozok/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Sprachliche Mittel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-felhasznaloi-felulet/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entwurf der Benutzeroberfläche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4-tobbszalu/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Erstellung von mehrfädigen Anwendungen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6-tervezesi-mintak/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entwurfsmuster (Erweiterbarkeit)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7-adatkezeles/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Datenverwaltung
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hausaufgaben
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Hausaufgaben
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Beziehung zwischen dem Modell und dem Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Sprachliche Mittel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/3-felhasznaloi-felulet-kialakitasa/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entwurf der Benutzeroberfläche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/4-tobbszalu-alkalmazasok-fejlesztese/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Entwicklung von Multithreading-Anwendungen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/5-mvvm/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entwurfsmuster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../hazi/fejlesztokornyezet/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entwicklungsumgebung
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-aim-of-the-laboratory" class="md-nav__link">
    <span class="md-ellipsis">
      The aim of the laboratory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starter-project" class="md-nav__link">
    <span class="md-ellipsis">
      Starter Project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-the-mvvm-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      About the MVVM Pattern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-0-reviewing-the-starter-project" class="md-nav__link">
    <span class="md-ellipsis">
      Task 0 – Reviewing the starter project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-1-introducing-the-mvvm-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Task 1 – Introducing the MVVM pattern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 1 – Introducing the MVVM pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    <span class="md-ellipsis">
      Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewmodel" class="md-nav__link">
    <span class="md-ellipsis">
      ViewModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view" class="md-nav__link">
    <span class="md-ellipsis">
      View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-2-mvvmtoolkit" class="md-nav__link">
    <span class="md-ellipsis">
      Task 2 - MVVMToolkit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 2 - MVVMToolkit">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#observableobject-and-observableproperty" class="md-nav__link">
    <span class="md-ellipsis">
      ObservableObject and ObservableProperty
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#task-3-command" class="md-nav__link">
    <span class="md-ellipsis">
      Task 3 - Command
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Task 3 - Command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-icommand" class="md-nav__link">
    <span class="md-ellipsis">
      Using ICommand
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#icommand-executability-state" class="md-nav__link">
    <span class="md-ellipsis">
      ICommand executability state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-with-mvvmtoolkit-code-generator" class="md-nav__link">
    <span class="md-ellipsis">
      Command with MVVMToolkit code generator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary_1" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/bmeviauab00/szoftvertechnikak/edit/master/docs/labor/5-mvvm/index_eng.md" title="Oldal szerkesztése" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="5-mvvm">5. MVVM<a class="headerlink" href="#5-mvvm" title="Permanent link">&para;</a></h1>
<h2 id="the-aim-of-the-laboratory">The aim of the laboratory<a class="headerlink" href="#the-aim-of-the-laboratory" title="Permanent link">&para;</a></h2>
<p>During this lab, we will refactor a simple application using the MVVM pattern to improve clarity and maintainability.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<p>Tools required for completing the lab:</p>
<ul>
<li>Windows 10 or Windows 11 operating system (Linux and macOS are not suitable)</li>
<li>Visual Studio 2022<ul>
<li>Windows Desktop Development Workload</li>
</ul>
</li>
</ul>
<h2 id="starter-project">Starter Project<a class="headerlink" href="#starter-project" title="Permanent link">&para;</a></h2>
<p>Clone the starter project using the following command:</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/bmeviauab00/lab-mvvm-kiindulo
</code></pre></div>
<details class="success">
<summary>Download the completed solution</summary>
<p><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> It is essential to work following the instructor during the lab, it is forbidden (and pointless) to download the final solution in advance. However, during subsequent independent practice, it can be useful to review the final solution, so we make it available.</p>
<p>The solution is available on <a href="https://github.com/bmeviauab00/lab-mvvm-kiindulo/tree/megoldas">GitHub</a> on the <code>megoldas</code> branch. The easiest way to download it is to use the <code>git clone</code> command from the command line and clone the <code>megoldas</code> branch:</p>
<p><code>git clone https://github.com/bmeviauab00/lab-mvvm-kiindulo -b megoldas</code></p>
</details>
<h2 id="about-the-mvvm-pattern">About the MVVM Pattern<a class="headerlink" href="#about-the-mvvm-pattern" title="Permanent link">&para;</a></h2>
<p>MVVM (Model-View-ViewModel) is an architectural design pattern commonly used in developing XAML applications, but it also appears in many other client-side technologies (e.g., Android, iOS, Angular, etc.). The goal of the MVVM pattern is to separate the user interface from the underlying logic, creating a more loosely coupled application that enhances testability, maintainability, and reusability.</p>
<p>The MVVM pattern consists of three (+1) main components:</p>
<ul>
<li><strong>Model</strong>: Encapsulates domain-specific data that ViewModels can use for data storage. For example, a <code>Recipe</code>/<code>Product</code>/<code>Order</code> class aggregates the data of a recipe/ product/order.</li>
<li><strong>View</strong>: Contains the user interface definition (and any logic strictly related to the view, such as handling animations). Typically inherits from <code>Window</code>, <code>Page</code>, or <code>UserControl</code>, using declarative XAML descriptions. The code-behind is often empty since the logic resides in the ViewModel.</li>
<li><strong>ViewModel</strong>: Contains the logic for the corresponding view: it holds the state of the view and the actions that can be performed on it. <strong>Independent</strong> of the view, the loose coupling between ViewModel and View is achieved through data binding (the UI controls bind to properties of the ViewModel). It is unit testable!</li>
<li><strong>Services</strong>: Classes that contain the business/application logic of the application, used by the ViewModels. If all business logic were in the ViewModels, they would become overly complex and hard to manage. This is not officially part of the MVVM pattern, we mention them here because this is how we will structure the architecture of our application.</li>
</ul>
<figure>
<p><a class="glightbox" href="../images/mvvm.drawio.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MVVM" src="../images/mvvm.drawio.png" /></a></p>
</figure>
<p><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> When do we create ViewModel classes?</p>
<ul>
<li>For each <strong>view</strong> (e.g., <code>Window</code>, <code>Page</code>, <code>Dialog</code>, <code>UserControl</code>), we typically create a ViewModel class and instantiate one object of it per view. For example, <code>MainPage</code> gets a <code>MainPageViewModel</code>, and <code>DancerDialog</code> gets a <code>DancerDialogViewModel</code>. We will follow this approach during the lab.</li>
<li>For each <strong>model</strong> class (e.g., <code>Recipe</code>, <code>Product</code>, <code>Dancer</code>, etc.), we may optionally create wrapper ViewModel classes (e.g., <code>RecipeViewModel</code>, <code>ProductViewModel</code>, <code>DancerViewModel</code>), but we <strong>will not</strong> do this in this lab. This is because we are following the Relaxed MVVM pattern instead of the Strict one (see the lecture).</li>
</ul>
<h2 id="task-0-reviewing-the-starter-project">Task 0 – Reviewing the starter project<a class="headerlink" href="#task-0-reviewing-the-starter-project" title="Permanent link">&para;</a></h2>
<p>Our application is a simple book listing tool where books are displayed in a tabular format using an <code>ItemsView</code>.
Above the list, there is a <code>ComboBox</code> that allows filtering the books by genre.
The filter can be cleared using a <em>Clear</em> button.</p>
<p><strong>Let's try it out!</strong></p>
<figure>
<p><a class="glightbox" href="../images/kiindulo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Initial UI" src="../images/kiindulo.png" /></a></p>
<figcaption>UI of the starter project</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">ComboBox and ItemsView</p>
<p>Both <code>ComboBox</code> and <code>ItemsView</code> are list-based controls that can be filledwith data using the <code>ItemsSource</code> property.</p>
<ul>
<li>
<p><code>ComboBox</code> is a dropdown menu that allows the user to select an item from a list.</p>
</li>
<li>
<p><code>ItemsView</code> provides a tabular layout where multiple items are visible simultaneously. It supports various display modes such as grid or list view, which can be set via the <code>Layout</code> property. Unlike the <code>ListView</code> used in the previous lab, each item template in <code>ItemsView</code> must have an <code>ItemContainer</code> as the root element.</p>
</li>
</ul>
</div>
<p>In the starter project, the application logic is in the <code>BooksPage.xaml.cs</code> file, while the user interface is defined in <code>BooksPage.xaml</code>.
This implementation <strong>does not</strong> follow the MVVM pattern, meaning that the UI and its logic are tightly coupled, resulting in what is often referred to as “spaghetti code.”</p>
<p>A good example of this is how data loading directly manipulates the UI controls in this file.
User interactions are handled via event handlers, which can quickly become hard to manage and blur responsibility boundaries.</p>
<p>In our case, sample data is loaded using the <code>SeedDatabase</code> function, which is called in the constructor of <code>BooksPage</code>.
The <code>LoadGenres</code> and <code>LoadBooks</code> functions are responsible for loading the dropdown menu and the table respectively.</p>
<p>Changes in the selection of the dropdown and the press of the <em>Clear</em> button are handled by separate event handler functions, which reload the list based on the selected genre (look for these in the code).</p>
<div class="admonition note">
<p class="admonition-title">Loading data from SQLite using ADO.NET</p>
<p>The application uses a SQLite database for data storage, accessed via ADO.NET. This technology will not be covered in detail during this lab, but we will discuss it more thoroughly at the end of the semester.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Using Page instead of Window</p>
<p>Our view here is not a <code>Window</code>, but a subclass of <code>Page</code>. As the name suggests, a <code>Page</code> represents a "page" within the application: it cannot be displayed on its own, it must be placed e.g. within a window. The benefit is that — given proper navigation setup — it is possible to navigate between pages (different <code>Page</code> subclasses). We won’t use this feature; our app will only have a single page. The purpose of using a page is to demonstrate that in MVVM architecture, views can be implemented not only as <code>Window</code> (full windows) but also as <code>Page</code> objects (or other UI components such as <code>UserControl</code>).</p>
</div>
<h2 id="task-1-introducing-the-mvvm-pattern">Task 1 – Introducing the MVVM pattern<a class="headerlink" href="#task-1-introducing-the-mvvm-pattern" title="Permanent link">&para;</a></h2>
<p>During the lab, we will refactor the starter project to follow the MVVM pattern.</p>
<h3 id="model">Model<a class="headerlink" href="#model" title="Permanent link">&para;</a></h3>
<p>Let’s start from the bottom up, beginning with the model class. Move the <code>Book</code> class from the <code>BooksPage.xaml.cs</code> file into a new file located in a newly created <code>Models</code> folder.</p>
<div class="highlight"><pre><span></span><code><span class="k">namespace</span><span class="w"> </span><span class="nn">Lab.Mvvm.Models</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Book</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Title</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Genre</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">ImageUrl</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Other properties like Author, ISBN etc.</span>
<span class="p">}</span>
</code></pre></div>
<p>The <code>Book</code> class has been moved from the previous <code>Lab.Mvvm</code> namespace to the <code>Lab.Mvvm.Models</code> namespace.<br />
To avoid long-term compilation errors due to this, we need to adjust the view (<code>BooksPage.xaml.cs</code>) to reflect the namespace change.<br />
Specifically, we should introduce a new namespace (<code>models</code>) and use it when specifying the data template type for the <code>ItemsView</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;Page</span><span class="w"> </span><span class="na">x:Class=</span><span class="s">&quot;Lab.Mvvm.BooksPage&quot;</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span>
<span class="hll"><span class="w">    </span><span class="na">xmlns:model=</span><span class="s">&quot;using:Lab.Mvvm.Models&quot;</span><span class="nt">&gt;</span>
</span>
<span class="nt">&lt;ItemsView</span><span class="w"> </span><span class="na">x:Name=</span><span class="s">&quot;booksGridView&quot;</span>
<span class="w">        </span><span class="na">Grid.Row=</span><span class="s">&quot;2&quot;</span>
<span class="w">        </span><span class="na">ItemsSource=</span><span class="s">&quot;{x:Bind ViewModel.Books, Mode=OneWay}&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;ItemsView.Layout&gt;</span>
<span class="w">        </span><span class="nt">&lt;LinedFlowLayout</span><span class="w"> </span><span class="na">ItemsStretch=</span><span class="s">&quot;Fill&quot;</span>
<span class="w">                        </span><span class="na">LineHeight=</span><span class="s">&quot;160&quot;</span>
<span class="w">                        </span><span class="na">LineSpacing=</span><span class="s">&quot;5&quot;</span>
<span class="w">                        </span><span class="na">MinItemSpacing=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ItemsView.Layout&gt;</span>
<span class="w">    </span><span class="nt">&lt;ItemsView.ItemTemplate&gt;</span>
<span class="hll"><span class="w">        </span><span class="nt">&lt;DataTemplate</span><span class="w"> </span><span class="na">x:DataType=</span><span class="s">&quot;model:Book&quot;</span><span class="nt">&gt;</span>
</span><span class="w">            </span>//<span class="w"> </span>...
<span class="w">        </span><span class="nt">&lt;/DataTemplate&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ItemsView.ItemTemplate&gt;</span>
<span class="nt">&lt;/ItemsView&gt;</span>
</code></pre></div>
<h3 id="service">Service<a class="headerlink" href="#service" title="Permanent link">&para;</a></h3>
<p>Move the code responsible for loading the data into a new class called <code>BookService</code>, and place it into a newly created <code>Services</code> folder.</p>
<ul>
<li>
<p>Move the <code>SeedDatabase</code>, <code>LoadGenres</code>, and <code>LoadBooks</code> functions from the <code>BookPage.xaml.cs</code> file into the <code>BookService</code> class.</p>
</li>
<li>
<p>Also, move the <code>_connectionString</code> field.</p>
</li>
<li>
<p>Set the visibility of the functions to <code>public</code> so that our ViewModel class can access them.</p>
</li>
</ul>
<p>The <code>SeedDatabase</code> function is fine as it is, but in the other two functions, we use several UI elements that we need to eliminate.</p>
<p>Refactor the functions so they only return the necessary data and do not directly use UI elements. Rename them to <code>GetGenres</code> and <code>GetBooks</code>.</p>
<ul>
<li>
<p>The <code>LoadGenres</code> function will return a list of type <code>List&lt;string&gt;</code>.</p>
</li>
<li>
<p>The <code>LoadBooks</code> function will return a list of type <code>List&lt;Book&gt;</code>. Here, we also need to consider that previously we used the selected value of the <code>ComboBox</code> for the query; now, we need to pass this as an optional parameter to the function.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">Lab.Mvvm.Models</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Microsoft.Data.Sqlite</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">Lab.Mvvm.Services</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">BookService</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">_connectionString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Data Source=books.db&quot;</span><span class="p">;</span>

<span class="hll"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">SeedDatabase</span><span class="p">()</span>
</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="hll"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GetGenres</span><span class="p">()</span>
</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>

<span class="hll"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">genres</span><span class="p">;</span>
</span><span class="w">    </span><span class="p">}</span>

<span class="hll"><span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GetBooks</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">genre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">using</span><span class="w"> </span><span class="nn">var</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SqliteConnection</span><span class="p">(</span><span class="n">_connectionString</span><span class="p">);</span>
<span class="w">        </span><span class="n">connection</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>

<span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;SELECT Title, Genre, ImageUrl FROM books&quot;</span><span class="p">;</span>
<span class="hll"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">genre</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">query</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot; WHERE Genre = @genre&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">using</span><span class="w"> </span><span class="nn">var</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SqliteCommand</span><span class="p">(</span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">connection</span><span class="p">);</span>
<span class="hll"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">genre</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span class="w">        </span><span class="p">{</span>
<span class="hll"><span class="w">            </span><span class="n">command</span><span class="p">.</span><span class="n">Parameters</span><span class="p">.</span><span class="n">AddWithValue</span><span class="p">(</span><span class="s">&quot;@genre&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">genre</span><span class="p">);</span>
</span><span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">        </span><span class="c1">// ...</span>

<span class="hll"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">books</span><span class="p">;</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>In addition to the changes highlighted above:</p>
<ul>
<li>In the <code>GetGenres</code> function, we also remove the lines that manipulate the <code>genreFilterComboBox</code> and <code>clearGenreFilterButton</code>.</li>
<li>In the <code>BooksPage</code> class, we remove the calls to <code>SeedDatabase</code>, <code>LoadGenres</code>, and <code>LoadBooks</code> that cause compilation errors.</li>
</ul>
<p>At this point, if we have done it correctly, there should be no compilation errors in our <code>BookService</code> class.</p>
<p>Call the <code>SeedDatabase</code> method when the application starts, so that the book and genre data is loaded into the database. The easiest place to do this is in the <code>OnLaunched</code> method in the <code>App.xaml.cs</code> file.</p>
<div class="highlight"><span class="filename">App.xaml.cs</span><pre><span></span><code><span class="k">protected</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnLaunched</span><span class="p">(</span><span class="n">Microsoft</span><span class="p">.</span><span class="n">UI</span><span class="p">.</span><span class="n">Xaml</span><span class="p">.</span><span class="n">LaunchActivatedEventArgs</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">m_window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MainWindow</span><span class="p">();</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="nf">BookService</span><span class="p">().</span><span class="n">SeedDatabase</span><span class="p">();</span>
<span class="w">    </span><span class="n">m_window</span><span class="p">.</span><span class="n">Activate</span><span class="p">();</span>
<span class="hll"><span class="p">}</span>
</span></code></pre></div>
<h3 id="viewmodel">ViewModel<a class="headerlink" href="#viewmodel" title="Permanent link">&para;</a></h3>
<p>Let's create the new <code>BooksPageViewModel</code> class (for the <code>BooksPage</code>) in a new <code>ViewModels</code> folder. This, like a classic ViewModel, will contain the state of the view and the operations that can be performed on it — in other words, the <strong>presentation logic</strong> for the <code>BooksPage</code> view.</p>
<p>When we think about it, the <code>BooksPage</code> contains the following state information:</p>
<ul>
<li>The list of books</li>
<li>The list of genres in the dropdown menu</li>
<li>The selected genre</li>
</ul>
<p>Let's add these as properties to the <code>BooksPageViewModel</code> class and implement the change notification based on the <code>INotifyPropertyChanged</code> interface that we learned in the previous lab to support data binding.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">Lab.Mvvm.Models</span><span class="p">;</span>

<span class="k">using</span><span class="w"> </span><span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.ComponentModel</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Runtime.CompilerServices</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">Lab.Mvvm.ViewModels</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">BooksPageViewModel</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INotifyPropertyChanged</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_books</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Books</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="k">get</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_books</span><span class="p">;</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SetProperty</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">_books</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_genres</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Genres</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">get</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_genres</span><span class="p">;</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SetProperty</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">_genres</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">;</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">SelectedGenre</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="k">get</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">;</span>
<span class="w">        </span><span class="k">set</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SetProperty</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">event</span><span class="w"> </span><span class="n">PropertyChangedEventHandler</span><span class="w"> </span><span class="n">PropertyChanged</span><span class="p">;</span>

<span class="w">    </span><span class="k">protected</span><span class="w"> </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">SetProperty</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">CallerMemberName</span><span class="p">]</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">propertyName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">object</span><span class="p">.</span><span class="n">Equals</span><span class="p">(</span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">))</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">property</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">value</span><span class="p">;</span>
<span class="w">        </span><span class="n">PropertyChanged</span><span class="o">?.</span><span class="n">Invoke</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PropertyChangedEventArgs</span><span class="p">(</span><span class="n">propertyName</span><span class="p">));</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">SetProperty</p>
<p>The <code>SetProperty</code> method is a helper function that simplifies setting properties and notifying changes.</p>
<p>The return value is <code>true</code> if the property value changed, and <code>false</code> if it didn't. This will help later in determining whether a change occurred in the property value.</p>
<p>The <code>ref</code> keyword allows the method to modify the variable's value directly (not just the reference is passed, but the reference itself can be modified to change where the original variable points).</p>
<p>The <code>CallerMemberName</code> attribute automatically passes the name of the calling member (in this case, the property), so we don't have to manually specify the property name everywhere.</p>
</div>
<p>We will implement data loading using the <code>BookService</code> class (scroll up in the guide, and check the introductory MVVM diagram to see that the ViewModel indeed uses the Service class/classes). Instantiate the <code>BookService</code> class and load the genres and books in its constructor.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="n">BookService</span><span class="w"> </span><span class="n">_booksService</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="nf">BooksPageViewModel</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">_booksService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BookService</span><span class="p">();</span>
<span class="w">    </span><span class="n">Genres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_booksService</span><span class="p">.</span><span class="n">GetGenres</span><span class="p">();</span>
<span class="w">    </span><span class="n">LoadBooks</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">LoadBooks</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Setting the Books property triggers the INPC PropertyChanged event (see Books property setter above) - the view will be refreshed</span>
<span class="w">    </span><span class="n">Books</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_booksService</span><span class="p">.</span><span class="n">GetBooks</span><span class="p">(</span><span class="n">SelectedGenre</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>The book loading should not only be done in the constructor, but also in the setter of the <code>SelectedGenre</code> property to reload the books when the selected genre changes. In the setter of <code>SelectedGenre</code>, we will call the <code>LoadBooks</code> method if a change has occurred.</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">;</span>
<span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">SelectedGenre</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">get</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">;</span>
<span class="hll"><span class="w">    </span><span class="k">set</span>
</span><span class="hll"><span class="w">    </span><span class="p">{</span>
</span><span class="hll"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SetProperty</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">))</span>
</span><span class="hll"><span class="w">            </span><span class="n">LoadBooks</span><span class="p">();</span>
</span><span class="hll"><span class="w">    </span><span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
<h3 id="view">View<a class="headerlink" href="#view" title="Permanent link">&para;</a></h3>
<p>Now we only need to modify the view so that it uses the ViewModel.</p>
<p>Create a new <code>BooksPageViewModel</code> type readonly property in the <code>BooksPage.xaml.cs</code> file, and assign it a value by creating a new <code>BooksPageViewModel</code> instance.</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="n">BooksPageViewModel</span><span class="w"> </span><span class="n">ViewModel</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BooksPageViewModel</span><span class="p">();</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">readonly property vs getter only property</p>
<p>Remember that there is a significant difference between an auto-implemented (once initialized) readonly property and a getter-only property. In the example above, we use an auto-implemented readonly property, meaning the <code>ViewModel</code> property value is created only once. In contrast, if we used a getter-only property, a new instance would be created every time it is accessed, leading to undesired behavior: <code>public BooksPageViewModel ViewModel =&gt; new BooksPageViewModel();</code></p>
</div>
<p>From this point on, in the <code>BooksPage.xaml</code> file, we can use the <code>ViewModel</code> property for data binding.</p>
<ul>
<li>
<p>Let's first focus on the <code>ComboBox</code>:</p>
<ul>
<li>In the initial solution, we manually manipulated the <code>SelectedItem</code> and <code>ItemsSource</code> properties in the code-behind file. We need to convert this handling into a data-binding-based solution: according to the MVVM pattern, we bind to the properties of the ViewModel object defined in the code-behind.</li>
<li>Delete the <code>SelectionChanged</code> event subscription in the XAML file and the <code>GenreFilterComboBox_SelectionChanged</code> event handler in the code-behind (since we no longer need it due to the <code>SelectedItem</code> data binding).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;ComboBox</span><span class="w"> </span><span class="na">x:Name=</span><span class="s">&quot;genreFilterComboBox&quot;</span>
<span class="w">        </span><span class="na">Grid.Row=</span><span class="s">&quot;1&quot;</span>
<span class="w">        </span><span class="na">PlaceholderText=</span><span class="s">&quot;Filter Genre&quot;</span>
<span class="hll"><span class="w">        </span><span class="na">ItemsSource=</span><span class="s">&quot;{x:Bind ViewModel.Genres}&quot;</span>
</span><span class="hll"><span class="w">        </span><span class="na">SelectedItem=</span><span class="s">&quot;{x:Bind ViewModel.SelectedGenre, Mode=TwoWay}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span></code></pre></div>
</li>
<li>
<p>For the <em>Clear</em> button, also remove the <code>Click</code> event subscription and the <code>GenreFilterComboBox_SelectionChanged</code> event handler in the code-behind. We will implement its behavior in the ViewModel later.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">x:Name=</span><span class="s">&quot;clearGenreFilterButton&quot;</span>
<span class="w">        </span><span class="na">Content=</span><span class="s">&quot;Clear&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</code></pre></div>
</li>
<li>
<p>In the <code>ItemsView</code>, we also need to use data binding for the <code>ItemsSource</code> property.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;ItemsView</span><span class="w"> </span><span class="na">x:Name=</span><span class="s">&quot;booksGridView&quot;</span>
<span class="w">        </span><span class="na">Grid.Row=</span><span class="s">&quot;2&quot;</span>
<span class="hll"><span class="w">        </span><span class="na">ItemsSource=</span><span class="s">&quot;{x:Bind ViewModel.Books, Mode=OneWay}&quot;</span><span class="nt">&gt;</span>
</span><span class="w">    </span>...
<span class="nt">&lt;/ItemsView&gt;</span>
</code></pre></div>
</li>
</ul>
<details class="note">
<summary>Classic Binding usage</summary>
<p>If we were to use classic binding instead of <code>x:Bind</code>, we would need to set the <code>DataContext</code> property of the control/page to a ViewModel instance.</p>
</details>
<p><strong>Let's try it!</strong></p>
<p>Our application should work similarly to the previous one (except for the <em>Clear</em> button), but now the architecture of the application follows the MVVM pattern.</p>
<h3 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<p>Let's evaluate our solution by looking at the code. In our initial solution, we had only one <strong>Page</strong> class, which mixed the presentation (.xaml) with application logic and presentation logic (the last two in the Page code-behind). In our MVVM-based solution:</p>
<ul>
<li>The Page now only contains the presentation (<strong>View</strong>), and the code-behind is essentially empty (it only contains a ViewModel).</li>
<li>The application logic has been moved to a <strong>Service</strong> class.</li>
<li>The display logic specific to the page has been placed into a <strong>ViewModel</strong> class (and the View binds to it).</li>
</ul>
<p>In addition to better clarity, the main advantage of this approach is that the coupling between the ViewModel and the View is looser, making the ViewModel easier to test and potentially reusable. The ViewModel does not depend on the View, so it can easily be rewritten or replaced without modifying the View.</p>
<h2 id="task-2-mvvmtoolkit">Task 2 - MVVMToolkit<a class="headerlink" href="#task-2-mvvmtoolkit" title="Permanent link">&para;</a></h2>
<p>It is rare to implement the MVVM pattern relying solely on the .NET framework. It's worth using an MVVM library, which can make our code more compact, clearer, and contain less boilerplate code. Some of the most popular libraries include:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/">MVVM Toolkit</a>: MVVM library maintained by Microsoft.</li>
<li><a href="https://prismlibrary.com/">Prism</a>: Once maintained by Microsoft and very popular, but now maintained by external developers and has become a paid library over time.</li>
<li><a href="https://reactiveui.net/">ReactiveUI</a>: Uses the Reactive Extensions (Rx) libraries to manage ViewModel state and bind data between the View and ViewModel. This library offers the most features, but it is the hardest to learn.</li>
<li><a href="https://platform.uno/uno-extensions/">Uno.Extensions</a>: Built on top of MVVM Toolkit, but also includes services that fill in gaps in the WinUI framework.</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=TemplateStudio.TemplateStudioForWinUICs">Windows Template Studio</a> is a Visual Studio extension that makes available a project template for more complex WinUI applications.</li>
</ul>
<p>During the lab, we will try the MVVM Toolkit maintained by Microsoft.</p>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h3>
<p>To install the MVVM Toolkit, open the NuGet Package Manager in Visual Studio (right-click on the project and select "Manage NuGet Packages"), and search for the <code>CommunityToolkit.Mvvm</code> package. 
<img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> It is important to install version 8.4.0 in the lab environments!
This will actually create the following <code>PackageReference</code> entry in the project file (we can manually add it alongside the other PackageReferences instead of following the steps above):</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;PackageReference</span><span class="w"> </span><span class="na">Include=</span><span class="s">&quot;CommunityToolkit.Mvvm&quot;</span><span class="w"> </span><span class="na">Version=</span><span class="s">&quot;8.4.0&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</code></pre></div>
<h3 id="observableobject-and-observableproperty">ObservableObject and ObservableProperty<a class="headerlink" href="#observableobject-and-observableproperty" title="Permanent link">&para;</a></h3>
<p>In our <code>BooksPageViewModel</code> class, the implementation of <code>INotifyPropertyChanged</code> is quite verbose. Instead of directly implementing the <code>INotifyPropertyChanged</code> interface, we can use the <code>ObservableObject</code> class, which already implements this interface and contains several helper functions that make it easier to set properties and notify about changes.<br />
Additionally, we have the option to use the <code>ObservableProperty</code> attribute, which controls a code generator, allowing properties to be automatically created without manually writing boilerplate code, simply by declaring fields with the attribute. Let's make the following changes:</p>
<ul>
<li>
<p>Our <code>BooksPageViewModel</code> class should inherit from the <code>ObservableObject</code> class found in the <code>CommunityToolkit.Mvvm.ComponentModel</code> namespace.</p>
</li>
<li>
<p>To use the source generator, the class must be marked as <code>partial</code> so that the generated code and the manual code can be placed in separate files.</p>
</li>
<li>
<p>Instead of using full property syntax, we only need to keep the fields to which we apply the <code>ObservableProperty</code> attribute.</p>
<div class="highlight"><pre><span></span><code><span class="hll"><span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">BooksPageViewModel</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ObservableObject</span>
</span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="hll"><span class="w">    </span><span class="na">[ObservableProperty]</span>
</span><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_books</span><span class="p">;</span>

<span class="hll"><span class="w">    </span><span class="na">[ObservableProperty]</span>
</span><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_genres</span><span class="p">;</span>

<span class="hll"><span class="w">    </span><span class="na">[ObservableProperty]</span>
</span><span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</li>
</ul>
<p>It is important that we remove the member variables (except for <code>_booksService</code>), the properties (since these are generated by the code generator), the <code>PropertyChanged</code> event, and the <code>SetProperty</code> method from the previous <code>BooksPageViewModel</code> solution. <img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> After the transformation, let's perform a build (e.g., Build/Build Solution menu): without this, the compilation errors won't be resolved, and Visual Studio will report many errors in the code. This is logical because the data-bound properties are generated by the code generator only during the build (in a "hidden" file).</p>
<p>We can check what code has been generated by navigating to the <code>Genres</code> property using ++F12++ (in the XAML file, place the cursor on <code>ViewModel.Genres</code> in the <code>ItemsSource</code> data binding).</p>
<div class="admonition tip">
<p class="admonition-title">ObservableProperty attribute on property</p>
<p>The <code>ObservableProperty</code> attribute can also be applied to properties instead of fields with the help of a <a href="https://devblogs.microsoft.com/dotnet/announcing-the-dotnet-community-toolkit-840/#partial-properties-support-for-the-mvvm-toolkit-🎉">new C# language feature</a>, but we would need to use a preview version of C# for this, so we will skip this for now this year.</p>
</div>
<p><strong>Try it out!</strong></p>
<p>We observe that the books load, but when selecting a genre, the books do not reload.<br />
Yes, that's because, earlier, we called the <code>LoadBooks</code> method when the <code>SelectedGenre</code> changed (which the generated code doesn't do).</p>
<p>We have three options:</p>
<ol>
<li>We revert the <code>SelectedGenre</code> property to a non-generated version so we can define the setter.</li>
<li>We subscribe to the ViewModel <code>PropertyChanged</code> event in the constructor and call the <code>LoadBooks</code> method in the event handler when the <code>SelectedGenre</code> property changes.</li>
<li>We use the partial methods generated by the code generator, which will allow us to extend the behavior of the setters.</li>
</ol>
<p>Option 3 seems to be the easiest, but it requires knowing how partial methods work (which we haven't covered in this course yet).<br />
Partial methods are methods whose declaration and definition are located in different files (associated with the same partial class), and which are automatically linked by the compiler. Moreover, partial methods don't have to be implemented by us.<br />
In our case, the code generator declares them, invokes them in the setters, and we can implement them in the <code>BooksPageViewModel</code> class.</p>
<p>Let's implement the <code>OnSelectedGenreChanged(string value)</code> partial method, where we call the <code>LoadBooks</code> method.</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="k">partial</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnSelectedGenreChanged</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="k">value</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">LoadBooks</span><span class="p">();</span>
</code></pre></div>
<p>We have nothing more to do, the generated code now calls this method.</p>
<p><strong>Try it out!</strong></p>
<p>Now, when selecting a genre, the books reload properly.</p>
<h2 id="task-3-command">Task 3 - Command<a class="headerlink" href="#task-3-command" title="Permanent link">&para;</a></h2>
<p>When designing user interfaces, we have two tasks:</p>
<ul>
<li><strong>Displaying data</strong> on the interface. This task was elegantly solved using data binding in our MVVM-based solution.</li>
<li>Handling <strong>user interactions/commands</strong>. In our original solution, this was handled using event handlers, but we later "elegantly" removed all of them (which is why the <code>Clear</code> button no longer works). In the following, we will explore how we can implement a solution for this using the MVVM pattern (spoiler: binding commands or actions defined in the ViewModel to the View).</li>
</ul>
<p>The ViewModel typically publishes the actions that can be performed on it to the View. This can be done through public methods or by using objects that implement the <code>ICommand</code> interface.</p>
<div class="admonition tip">
<p class="admonition-title">ICommand</p>
<p>The advantage of <code>ICommand</code> is that it encapsulates the operation and its execution state in one object, and it can even publish an event when the execution state changes.</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">ICommand</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">event</span><span class="w"> </span><span class="n">EventHandler</span><span class="o">?</span><span class="w"> </span><span class="n">CanExecuteChanged</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">CanExecute</span><span class="p">(</span><span class="kt">object?</span><span class="w"> </span><span class="n">parameter</span><span class="p">);</span>
<span class="w">    </span><span class="k">void</span><span class="w"> </span><span class="nf">Execute</span><span class="p">(</span><span class="kt">object?</span><span class="w"> </span><span class="n">parameter</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>This mechanism is also used by the <code>Button</code> control, to whose <code>Command</code> property can be assigned commands defined in the ViewModel.</p>
<p>The most important for us among the operations defined in <code>ICommand</code> is <code>Execute</code>, which is called when the command is executed. With <code>CanExecute</code>, the interface can query the command to check if the command can be executed at a given moment (for example, the button will be enabled/disabled accordingly). The <code>CanExecuteChanged</code> event, as the name suggests, is used to notify the interface that the "CanExecute" state of the command has changed, and the interface needs to update the enabled/disabled state.</p>
</div>
<h3 id="using-icommand">Using ICommand<a class="headerlink" href="#using-icommand" title="Permanent link">&para;</a></h3>
<p>Let's create an <code>ICommand</code> type property in the <code>BooksPageViewModel</code> class, which sets the selected genre to a "not set" state (this will be used for the Clear button).
For the implementation, we will use the <code>RelayCommand</code> class from the MVVM Toolkit, which is found in the <code>CommunityToolkit.Mvvm.Input</code> namespace.
We will create a new instance of it in the <code>BooksPageViewModel</code> constructor, where we define the execution of the command in a lambda expression (the <code>Execute</code> method of the command will call this lambda).</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="nf">BooksPageViewModel</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="hll"><span class="w">    </span><span class="n">ClearFilterCommand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RelayCommand</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SelectedGenre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</span><span class="p">}</span>

<span class="hll"><span class="k">public</span><span class="w"> </span><span class="n">ICommand</span><span class="w"> </span><span class="n">ClearFilterCommand</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<p>Let's bind the <code>ClearFilterCommand</code> property to the <code>Command</code> property of the <em>Clear</em> button.</p>
<div class="highlight"><span class="filename">BooksPage.xaml</span><pre><span></span><code><span class="nt">&lt;Button</span><span class="w"> </span><span class="na">Content=</span><span class="s">&quot;Clear&quot;</span>
<span class="hll"><span class="w">        </span><span class="na">Command=</span><span class="s">&quot;{x:Bind ViewModel.ClearFilterCommand}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>Notice how elegant the solution is. We worked in exactly the same way as before when displaying data during the lab: in the View, we used data binding to the property in the ViewModel (except now it was a command object).</p>
<p><strong>Try it out!</strong> The <em>Clear</em> button works, and the selected genre is cleared.</p>
<h3 id="icommand-executability-state">ICommand executability state<a class="headerlink" href="#icommand-executability-state" title="Permanent link">&para;</a></h3>
<p>What still doesn't work is disabling the button when no genre is selected.</p>
<p>To achieve this, in the constructor of the <code>RelayCommand</code> class, we should provide a <code>Func&lt;bool&gt;</code> function as the second parameter, which will indicate whether the command can be executed or not (the command's <code>CanExecute</code> method will call this lambda).</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs konstruktora</span><pre><span></span><code><span class="n">ClearFilterCommand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RelayCommand</span><span class="p">(</span>
<span class="w">    </span><span class="n">execute</span><span class="p">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SelectedGenre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
<span class="hll"><span class="w">    </span><span class="n">canExecute</span><span class="p">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SelectedGenre</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</span></code></pre></div>
<div class="admonition note parameter names">
<p class="admonition-title">Note</p>
<p>The code above illustrates a common C# language feature: when calling a function, you can specify the <strong>name</strong> of a parameter before the <code>:</code>. This is rarely used because it requires more typing, but it can be considered when it greatly enhances the readability of the code.</p>
</div>
<p>However, the UI will only update — and thus the function specified in the <code>canExecute</code> parameter will only be called — if the <code>ICommand.CanExecuteChanged</code> event is triggered.</p>
<p>We can trigger this event through the <code>IRelayCommand</code> interface (which also implements <code>ICommand</code>). To do this, we need to call the <code>NotifyCanExecuteChanged()</code> method in the setter of the <code>SelectedGenre</code> property.</p>
<p>Let's change the property type to <code>IRelayCommand</code>. </p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="n">IRelayCommand</span><span class="w"> </span><span class="n">ClearFilterCommand</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>Call the <code>NotifyCanExecuteChanged()</code> method inside our already existing <code>OnSelectedGenreChanged</code> partial method.</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="k">partial</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnSelectedGenreChanged</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="k">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">LoadBooks</span><span class="p">();</span>
<span class="hll"><span class="w">    </span><span class="n">ClearFilterCommand</span><span class="p">.</span><span class="n">NotifyCanExecuteChanged</span><span class="p">();</span>
</span><span class="p">}</span>
</code></pre></div>
<p><strong>Let's try it out!</strong> Now the <em>Clear</em> button becomes disabled when no genre is selected.</p>
<h3 id="command-with-mvvmtoolkit-code-generator">Command with MVVMToolkit code generator<a class="headerlink" href="#command-with-mvvmtoolkit-code-generator" title="Permanent link">&para;</a></h3>
<p>Instead of manually declaring and instantiating the <code>RelayCommand</code> property, we can use the <code>RelayCommand</code> attribute on a <strong>method</strong>, which automatically generates the necessary boilerplate code using the code generator.</p>
<ul>
<li>
<p>Delete the previously used <code>ClearFilterCommand</code> property and its instantiation in the constructor.</p>
</li>
<li>
<p>Instead, create a new method named <code>ClearFilter</code>, and use the <code>RelayCommand</code> attribute to have the necessary command property automatically generated in the background.</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="na">[RelayCommand]</span>
<span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">ClearFilter</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SelectedGenre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</code></pre></div>
</li>
<li>
<p>For the <code>CanExecute</code> logic, we can reference another method or property that defines whether the command can be executed.</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="hll"><span class="k">private</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsClearFilterCommandEnabled</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SelectedGenre</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</span>
<span class="hll"><span class="na">[RelayCommand(CanExecute = nameof(IsClearFilterCommandEnabled))]</span>
</span><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">ClearFilter</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SelectedGenre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</code></pre></div>
</li>
</ul>
<p><strong>Let's try it out!</strong> It should work just like before (only now the <code>ClearFilterCommand</code> property is generated by the source generator).</p>
<p>Moreover, <code>NotifyCanExecuteChanged</code> can also be triggered declaratively using attributes.
In our case, use <code>NotifyCanExecuteChangedFor</code> to link changes in <code>SelectedGenre</code> to the executability of the <code>ClearFilterCommand</code>.
This way, we can remove the event trigger from our <code>OnSelectedGenreChanged</code> partial method.</p>
<div class="highlight"><span class="filename">BooksPageViewModel.cs</span><pre><span></span><code><span class="na">[ObservableProperty]</span>
<span class="hll"><span class="na">[NotifyCanExecuteChangedFor(nameof(ClearFilterCommand))]</span>
</span><span class="k">private</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">_selectedGenre</span><span class="p">;</span>

<span class="k">partial</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">OnSelectedGenreChanged</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="k">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">LoadBooks</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Let's try it out!</strong> It should work just like before.</p>
<details class="tip">
<summary>If the Command pattern is not directly supported</summary>
<p>Not all controls directly support the <code>Command</code> pattern. In such cases, we have two options:</p>
<ol>
<li>
<p>We can use <code>x:Bind</code> data binding, which is applicable not only to properties but also to event handlers. This allows us to bind even a ViewModel-based event handler to the control’s event. The downside is that this can break the MVVM pattern, as the ViewModel may become dependent on the View (e.g., due to event handler signatures and parameters).</p>
</li>
<li>
<p>We can still use the Command pattern, but connect the desired event of the control to the ViewModel using a so-called Behavior. A Behavior is a class that allows us to modify a control’s behavior without changing the control’s code directly. In our case, we need to install the <a href="https://www.nuget.org/packages/Microsoft.Xaml.Behaviors.WinUI.Managed">Microsoft.Xaml.Behaviors</a> package, which includes a prebuilt behavior that <a href="https://github.com/Microsoft/XamlBehaviors/wiki/InvokeCommandAction">converts events to command invocations</a>.</p>
</li>
</ol>
</details>
<h2 id="summary_1">Summary<a class="headerlink" href="#summary_1" title="Permanent link">&para;</a></h2>
<p>During the lab, we transformed the initial project to follow the MVVM pattern, thus separating responsibilities between the View and the ViewModel:</p>
<ul>
<li>The ViewModel contains the state of the view and the actions that can be performed on it, while the View is responsible solely for presenting the user interface.</li>
<li>There is a loose coupling between the ViewModel and the View through data binding, which makes the ViewModel easier to test and potentially reusable.</li>
<li>The ViewModel does not depend on the View, so it can be easily rewritten or replaced without modifying the View.</li>
<li>The ViewModel does not contain the full business logic (such as data access); instead, we placed that in a separate Service class.</li>
</ul>
<hr>
<div class="md-source-file">
  <span class="md-source-file__fact"> <span class="md-icon" title="Utolsó frissítés"> <svg
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z">
        </path>
      </svg>
    </span>
    <span title="2025. április 22. 21:04:31">
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2025. április 22. 21:04:31"><span class="timeago" datetime="2025-04-22T21:04:31+02:00" locale="hu"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2025. április 22. 21:04:31">2025-04-22</span>
    </span>
  </span>

  

  <span class="md-source-file__fact">
    <span class="md-icon" title="Szerzők">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z">
        </path>
      </svg>
    </span>
    <span>Szerzők</span>
    <nav><a href="https://github.com/tibitoth" target="_blank" rel="noopener noreferrer" class="md-author" title="@tibitoth">
        <img src="https://avatars.githubusercontent.com/tibitoth?size=72" alt="@tibitoth">
      </a><a href="https://github.com/bzolka" target="_blank" rel="noopener noreferrer" class="md-author" title="@Zoltán Benedek">
        <img src="https://avatars.githubusercontent.com/u/22932444?u=a3e164177137cbef68f0e72985785b0795ac7565&v=4?size=72" alt="@Zoltán Benedek">
      </a><a href="https://github.com/szucscintialia" target="_blank" rel="noopener noreferrer" class="md-author" title="@Cintia Szücs">
        <img src="https://avatars.githubusercontent.com/u/26093637?v=4?size=72" alt="@Cintia Szücs">
      </a></nav>      
  </span>
</div>




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Vissza a tetejére
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BME VIK AUT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest", "content.action.edit", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "search.result.more.one": "1 tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.more.other": "# tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.term.missing": "\u00dcres", "select.version": "Verzi\u00f3v\u00e1lt\u00e1s"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>