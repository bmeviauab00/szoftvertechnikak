
<!doctype html>
<html lang="hu" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Benedek Zoltán">
      
      
        <link rel="canonical" href="https://bmeviauab00.github.io/szoftvertechnikak/2024/hazi/old-5-document-view-architectura/">
      
      
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>5. HF - Document-View architektúra - BMEVIAUAB00 Szoftvertechnikák</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../extra-material-theme.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="aut" data-md-color-primary="aut" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#5-hf-document-view-architektura" class="md-skip">
          Kihagyás
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Élőfej">
    <a href="../.." title="BMEVIAUAB00 Szoftvertechnikák" class="md-header__button md-logo" aria-label="BMEVIAUAB00 Szoftvertechnikák" data-md-component="logo">
      
  <img src="../../img/logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUAB00 Szoftvertechnikák
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5. HF - Document-View architektúra
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="aut" data-md-color-primary="aut" data-md-color-accent="red"  aria-label="Váltás sötét témára"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Váltás sötét témára" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="indigo"  aria-label="Váltás világos témára"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Váltás világos témára" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Keresés" placeholder="Keresés" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Keresés">
        
        <button type="reset" class="md-search__icon md-icon" title="Törlés" aria-label="Törlés" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Keresés inicializálása
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bmeviauab00/szoftvertechnikak" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauab00/szoftvertechnikak
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Lapok" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Szoftvertechnikák (2024-től)

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../labor/1-model-es-kod-kapcsolata/" class="md-tabs__link">
          
  
  Laborok

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../" class="md-tabs__link">
          
  
  Önálló/házi feladatok

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../labor/1-model-es-kod-kapcsolata/index_eng/" class="md-tabs__link">
          
  
  English course labs

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../index_eng/" class="md-tabs__link">
          
  
  Homework

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../labor/1-model-es-kod-kapcsolata/index_ger/" class="md-tabs__link">
          
  
  Deutschkurs-Labore

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../meghirdetes-elott_ger/" class="md-tabs__link">
          
  
  Hausaufgaben

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigáció" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BMEVIAUAB00 Szoftvertechnikák" class="md-nav__button md-logo" aria-label="BMEVIAUAB00 Szoftvertechnikák" data-md-component="logo">
      
  <img src="../../img/logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUAB00 Szoftvertechnikák
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bmeviauab00/szoftvertechnikak" title="Főoldalra ugrás" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauab00/szoftvertechnikak
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Szoftvertechnikák (2024-től)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Laborok
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Laborok
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/1-model-es-kod-kapcsolata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. A modell és a kód kapcsolata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/2-nyelvi-eszkozok/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Nyelvi eszközök
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/3-felhasznaloi-felulet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. A felhasználói felület kialakítása
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/4-tobbszalu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Többszálú alkalmazások készítése
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/5-mvvm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/6-tervezesi-mintak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Tervezési minták (kiterjeszthetőség)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/7-adatkezeles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Adatkezelés
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Önálló/házi feladatok
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Önálló/házi feladatok
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Útmutató
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-model-es-kod-kapcsolata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HF - A modell és a kód kapcsolata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2-nyelvi-eszkozok/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. HF - Nyelvi eszközök
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. HF - Felhasználói felület kialakítása
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. HF - Többszálú alkalmazások fejlesztése
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. HF - MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. HF - Tervezési minták
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HF - Liftrendszer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HF - MVVM receptek
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fejlesztokornyezet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fejlesztőkörnyezet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    English course labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            English course labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/1-model-es-kod-kapcsolata/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. The relationship between the model and the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/2-nyelvi-eszkozok/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Language tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/3-felhasznaloi-felulet/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/4-tobbszalu/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/5-mvvm/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/6-tervezesi-mintak/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/7-adatkezeles/index_eng.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Homework
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Homework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-model-es-kod-kapcsolata/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HW - The relationship between the model and the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2-nyelvi-eszkozok/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. HW - Language tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. HW - Implementing the user interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. HW - Developing multithreaded applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. HW - MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. HW - Design patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HW - Liftsystem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMSc HW - MVVM recipies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fejlesztokornyezet/index_eng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development environment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deutschkurs-Labore
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Deutschkurs-Labore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/1-model-es-kod-kapcsolata/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Beziehung zwischen dem Modell und dem Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/2-nyelvi-eszkozok/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Sprachliche Mittel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/3-felhasznaloi-felulet/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entwurf der Benutzeroberfläche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/4-tobbszalu/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Erstellung von mehrfädigen Anwendungen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/5-mvvm/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/6-tervezesi-mintak/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entwurfsmuster (Erweiterbarkeit)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../labor/7-adatkezeles/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Datenverwaltung
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hausaufgaben
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Hausaufgaben
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Beziehung zwischen dem Modell und dem Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Sprachliche Mittel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3-felhasznaloi-felulet-kialakitasa/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entwurf der Benutzeroberfläche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4-tobbszalu-alkalmazasok-fejlesztese/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Entwicklung von Multithreading-Anwendungen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5-mvvm/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MVVM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meghirdetes-elott_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entwurfsmuster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fejlesztokornyezet/index_ger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entwicklungsumgebung
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tartalomjegyzék">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tartalomjegyzék
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bevezetes" class="md-nav__link">
    <span class="md-ellipsis">
      Bevezetés
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-beadas-menete" class="md-nav__link">
    <span class="md-ellipsis">
      A beadás menete
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feladatok-attekintese" class="md-nav__link">
    <span class="md-ellipsis">
      Feladatok áttekintése
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Feladatok áttekintése">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feladatleiras" class="md-nav__link">
    <span class="md-ellipsis">
      Feladatleírás
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iranyelvek" class="md-nav__link">
    <span class="md-ellipsis">
      Irányelvek
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feladat-1-a-kiindulasi-kornyezet-megismerese" class="md-nav__link">
    <span class="md-ellipsis">
      Feladat 1 - A kiindulási környezet megismerése
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Feladat 1 - A kiindulási környezet megismerése">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bevezeto-feladatok" class="md-nav__link">
    <span class="md-ellipsis">
      Bevezető feladatok
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiindulo-alkalmazas-mukodese" class="md-nav__link">
    <span class="md-ellipsis">
      Kiinduló alkalmazás működése
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kiindulo-projekt" class="md-nav__link">
    <span class="md-ellipsis">
      Kiinduló projekt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feladat-2-meresi-ertekek-kezelese-dokumentum-logikak" class="md-nav__link">
    <span class="md-ellipsis">
      Feladat 2 – Mérési értékek kezelése (dokumentum logikák)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Feladat 2 – Mérési értékek kezelése (dokumentum logikák)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#meresi-ertekek-reprezentalasa" class="md-nav__link">
    <span class="md-ellipsis">
      Mérési értékek reprezentálása
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sajat-dokumentum-osztaly" class="md-nav__link">
    <span class="md-ellipsis">
      Saját dokumentum osztály
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adatok-mentese" class="md-nav__link">
    <span class="md-ellipsis">
      Adatok mentése
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adatok-betoltese" class="md-nav__link">
    <span class="md-ellipsis">
      Adatok betöltése
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#betoltes-ellenorzese" class="md-nav__link">
    <span class="md-ellipsis">
      Betöltés ellenőrzése
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feladat-3-jelek-grafikus-megjelenitese-sajat-nezet-osztaly" class="md-nav__link">
    <span class="md-ellipsis">
      Feladat 3 – Jelek grafikus megjelenítése, saját nézet osztály
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Feladat 3 – Jelek grafikus megjelenítése, saját nézet osztály">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uj-nezet-osztaly" class="md-nav__link">
    <span class="md-ellipsis">
      Új nézet osztály
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-koordinata-tengelyek-kirajzolasa" class="md-nav__link">
    <span class="md-ellipsis">
      A koordináta tengelyek kirajzolása
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jelek-megjelenitese" class="md-nav__link">
    <span class="md-ellipsis">
      Jelek megjelenítése
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nagyitas-kicsinyites" class="md-nav__link">
    <span class="md-ellipsis">
      Nagyítás, kicsinyítés
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opcionalis-imsc-feladatok" class="md-nav__link">
    <span class="md-ellipsis">
      Opcionális iMSc feladatok
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Opcionális iMSc feladatok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iview-kodduplikacioja-1-imsc-pont" class="md-nav__link">
    <span class="md-ellipsis">
      IView kódduplikációja (1 iMSc pont)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grafikon-gorgetese-1-imsc-pont" class="md-nav__link">
    <span class="md-ellipsis">
      Grafikon görgetése (1 iMSc pont)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jelek-elo-generalasa-3-imsc-pont" class="md-nav__link">
    <span class="md-ellipsis">
      Jelek élő generálása (3 iMSc pont)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/bmeviauab00/szoftvertechnikak/edit/master/docs/hazi/old-5-document-view-architectura/index.md" title="Oldal szerkesztése" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="5-hf-document-view-architektura">5. HF - Document-View architektúra<a class="headerlink" href="#5-hf-document-view-architektura" title="Permanent link">&para;</a></h1>
<h2 id="bevezetes">Bevezetés<a class="headerlink" href="#bevezetes" title="Permanent link">&para;</a></h2>
<p>A feladat megértése szempontjából kulcsfontosságú a Document-View architektúra részletekbe menő ismerete, pl. az előadásanyag alapján.</p>
<p>Kapcsolódó előadások:</p>
<ul>
<li>Document-View architektúra elméleti ismerete (09-10 Architekturális tervezés előadás része) és alkalmazása egyszerű környezetben</li>
<li>C# property, delegate, event alkalmazástechnikája</li>
<li>Windows Forms alkalmazások fejlesztésének alapjai (<code>Form</code>, vezérlőelemek, eseménykezelés)</li>
<li>Grafikus megjelenítés Windows Forms alkalmazásokban</li>
<li><code>UserControl</code> és használata</li>
</ul>
<p>Kapcsolódó laborgyakorlatok:</p>
<ul>
<li><a href="../../labor/3-felhasznaloi-felulet/">3. Felhasználói felület kialakítása</a> laborgyakorlat</li>
<li><a href="../../labor/6-doc-view/index.md">6. Document-View architektúra</a> laborgyakorlat</li>
</ul>
<p>Az önálló gyakorlat célja:</p>
<ul>
<li>UML alapú tervezés és néhány tervezési minta alkalmazása</li>
<li>A Document-View architektúra alkalmazása a gyakorlatban</li>
<li>A <code>UserControl</code> szerepének bemutatása Windows Forms alkalmazásokban, Document-View architektúra esetén</li>
<li>A grafikus megjelenítés elveinek gyakorlása Windows Forms alkalmazásokban (<code>Paint</code> esemény, <code>Invalidate</code>, <code>Graphics</code> használata)</li>
</ul>
<p>A szükséges fejlesztőkörnyezet a szokásos, <a href="../fejlesztokornyezet/">itt</a> található leírás.</p>
<div class="admonition warning">
<p class="admonition-title">Ellenőrző futtatása</p>
<p>Ehhez a feladathoz érdemi előellenőrző nem tartozik: minden push után lefut ugyan, de csak a neptun.txt kitöltöttségét ellenőrzi és azt, van-e fordítási hiba. Az érdemi ellenőrzést a határidő lejárta után a laborvezetők teszik majd meg.</p>
</div>
<h2 id="a-beadas-menete">A beadás menete<a class="headerlink" href="#a-beadas-menete" title="Permanent link">&para;</a></h2>
<ul>
<li>Az alapfolyamat megegyezik a korábbiakkal. GitHub Classroom segítségével hozz létre magadnak egy repository-t. A meghívó URL-t Moodle-ben találod (a tárgy nyitóoldalán a "<em>GitHub classroom hivatkozások a házi feladatokhoz</em>" hivatkozásra kattintva megjelenő oldalon látható). Fontos, hogy a megfelelő, ezen házi feladathoz tartozó meghívó URL-t használd (minden házi feladathoz más URL tartozik). Klónozd le az így elkészült repository-t. Ez tartalmazni fogja a megoldás elvárt szerkezetét. A feladatok elkészítése után commit-old és push-old a megoldásod.</li>
<li>A neptun.txt fájlba írd bele a Neptun kódod!</li>
<li>A kiklónozott fájlok között a <code>Signals.sln</code>-t megnyitva kell dolgozni.</li>
<li><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> A feladatok kérik, hogy készíts <strong>képernyőképet</strong> a megoldás egy-egy részéről, mert ezzel bizonyítod, hogy a megoldásod saját magad készítetted. <strong>A képernyőképek elvárt tartalmát a feladat minden esetben pontosan megnevezi.</strong> A képernyőképeket a megoldás részeként kell beadni, a repository-d gyökérmappájába tedd (a neptun.txt mellé). A képernyőképek így felkerülnek GitHub-ra git repository tartalmával együtt. Mivel a repository privát, azt az oktatókon kívül más nem látja. Amennyiben olyan tartalom kerül a képernyőképre, amit nem szeretnél feltölteni, kitakarhatod a képről.</li>
<li><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> A beadott megoldások mellé külön indoklást, illetve leírást nem várunk el, ugyanakkor az elfogadás feltétele, hogy a beadott kódban a <strong>Feladat 3 – Jelek grafikus megjelenítése, saját nézet osztály</strong> fejezet feladatainak a megoldását <strong>kommentekkel kell ellátni</strong>. A többi fejezet feladatainak megoldását NEM kell kommentezni.</li>
</ul>
<h2 id="feladatok-attekintese">Feladatok áttekintése<a class="headerlink" href="#feladatok-attekintese" title="Permanent link">&para;</a></h2>
<h3 id="feladatleiras">Feladatleírás<a class="headerlink" href="#feladatleiras" title="Permanent link">&para;</a></h3>
<ul>
<li>Egy olyan vastagkliens (Windows Forms) alkalmazást kell elkészíteni, amely képes fájlban időbélyeggel tárolt mérési értékek grafikus megjelenítésére. Az alkalmazásnak a Document-View architektúrát kell követnie.</li>
<li>Egyszerre több dokumentum is meg lehet nyitva, illetve egy dokumentumnak több nézete is lehet. A főablak egy <code>TabControl</code>-t tartalmaz, melyen minden nézet egy külön tabfülön jelenik meg.</li>
<li>Egy dokumentum létrehozásakor/megnyitásakor egy nézet (tabfül) jön létre hozzá, de utólag a <em>Window / New View</em> menüelem kiválasztásával új nézet/tabfül is létrehozható. Egy dokumentumhoz azért van értelme több nézetet megjeleníteni, mert az egyes nézetek eltérő nagyításban képesek az adott dokumentum jeleit megjeleníteni.</li>
<li>A jelek kirajzolása mellett meg kell jeleníteni a koordinátatengelyeket is.</li>
</ul>
<h3 id="iranyelvek">Irányelvek<a class="headerlink" href="#iranyelvek" title="Permanent link">&para;</a></h3>
<ul>
<li>A megvalósítás során használjunk beszédes változóneveket, pl. <code>pixelPerSec</code>.</li>
<li>Amennyiben a programozási feladatok megvalósítása során „inconsistent visibility”-re vagy „inconsistent accessibility”-re panaszkodó fordítási hibaüzenetekkel találkozunk, ellenőrizzük, hogy valamennyi típusunk (osztályunk, interfészünk) láthatósága publikus-e, a class/interface kulcsszó előtt adjuk meg a <code>public</code> módosítót. Pl.:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span>
<span class="p">{</span><span class="w"> </span><span class="err">…</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h2 id="feladat-1-a-kiindulasi-kornyezet-megismerese">Feladat 1 - A kiindulási környezet megismerése<a class="headerlink" href="#feladat-1-a-kiindulasi-kornyezet-megismerese" title="Permanent link">&para;</a></h2>
<h3 id="bevezeto-feladatok">Bevezető feladatok<a class="headerlink" href="#bevezeto-feladatok" title="Permanent link">&para;</a></h3>
<ol>
<li><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> A főablak fejléce a "Signals" szöveg legyen, hozzáfűzve a saját Neptun kódod: (pl. "ABCDEF" Neptun kód esetén "Signals - ABCDEF"), fontos, hogy ez legyen a szöveg! Ehhez az űrlapunk <code>Text</code> tulajdonságát állítsuk be erre a szövegre.</li>
</ol>
<h3 id="kiindulo-alkalmazas-mukodese">Kiinduló alkalmazás működése<a class="headerlink" href="#kiindulo-alkalmazas-mukodese" title="Permanent link">&para;</a></h3>
<p>A solutionünk egy Document-View keretet tartalmaz. Futtatva teszteljük a kiindulási alkalmazást:</p>
<ul>
<li>A <em>File/New</em> menü egy új dokumentumot hoz létre. Első lépésben bekéri a dokumentum nevét, majd létrehozza a dokumentumot és a nézetet a hozzá tartozó tabfüllel.</li>
<li>A <em>File/Open</em> és <em>File/Save</em> menüelemekhez lényegi implementáció egyelőre nem tartozik.</li>
<li>A <em>File/Close</em> bezárja az aktuális dokumentumot/tabfület.</li>
<li>A <em>Window/New View</em> egy új nézetet/tabfület hoz létre az aktuális dokumentumhoz. Amennyiben egy dokumentumhoz több nézet is tartozik, a 2. nézettel kezdve a tabfülön a nézet sorszáma is megjelenik.</li>
</ul>
<p>A főablakunk a következőképpen néz ki, ha két dokumentumot hoztunk létre, és a másodikhoz két nézetet:</p>
<p><a class="glightbox" href="images/kiindulo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Kiinduló alkalmazás" src="images/kiindulo.png" /></a></p>
<h3 id="kiindulo-projekt">Kiinduló projekt<a class="headerlink" href="#kiindulo-projekt" title="Permanent link">&para;</a></h3>
<p>A megjegyzésekkel ellátott forráskódot nézve ismerkedjünk meg a keret architektúrájával, működésével.</p>
<p>A fontosabb osztályok a következők:</p>
<ul>
<li><code>MainForm</code> osztály: Az alkalmazás főablaka. Egy <code>TabControl</code>-t tartalmaz, ahol megjelennek az egyes dokumentumok nézetei. Kezeli a <code>MenuStrip</code> eseményeit, a többségük kezelőfüggvényében egyszerűen továbbhív az <code>App</code> osztályba (vagyis a logika nem a form osztályban van megírva).</li>
<li><code>App</code> osztály: Az alkalmazást reprezentálja. Egy példányt kell létrehozni belőle az <code>Initialize</code> hívásával, ez lesz az alkalmazásunk „root” objektuma. Ez bármely osztály számára hozzáférhető az <code>App.Instance</code> statikus property-n keresztül (erre több példát is látunk a főablak menü eseménykezelőiben). Tárolja a dokumentumok listáját. Legfontosabb tagjai a következők:<ul>
<li><code>documents</code>: Valamennyi megnyitott dokumentumot tartalmazó lista.</li>
<li><code>activeView</code>: Az aktív nézetet adja vissza. Ezt az aktív <code>TabPage</code> határozza meg. Tabváltáskor mindig frissítésre kerül. A <code>TabPage</code>-ek a <code>Tag</code> property-jükben tárolják azt a nézet objektumot, melyet megjelenítenek.</li>
<li><code>ActiveDocument</code>: Az aktív dokumentumot adja vissza. Az aktív <code>TabPage</code> meghatározza, melyik az aktív nézet, a nézet pedig referenciával rendelkezik a dokumentumra, melyhez tartozik.</li>
<li><code>NewDocument</code>: Létrehoz egy új dokumentumot, a hozzá tartozó nézettel. Alaposan tanulmányozzuk át az implementációt, az általa hívott függvényeket is beleértve!</li>
<li><code>CreateViewForActiveDocument</code>: Egy új nézetet hoz létre az aktív dokumentumhoz. A <em>Window/New View</em> menüelem kiválasztásának hatására hívódik meg.</li>
<li><code>CloseActiveView</code>: Bezárja az aktív nézetet.</li>
</ul>
</li>
<li><code>Document</code> osztály: Az egyes dokumentum típusok ősosztálya. Bár esetünkben csak egy dokumentum típus létezik, a későbbi bővíthetőség miatt célszerű külön választani. Tartalmazza a nézetek listáját, melyek a dokumentumot megjelenítik. Az <code>UpdateAllViews</code> művelete valamennyi nézetet értesít annak érdekében, hogy frissítsék magukat. A <code>LoadDocument</code> és <code>SaveDocument</code> üres virtuális függvények, melyek a dokumentum betöltésekor és mentésekor kerülnek meghívásra. A <code>Document</code> leszármazott osztályunkban kell felüldefiniálni és értelemszerűen megvalósítani őket.</li>
<li><code>IView</code>: Az egyes nézetek közös interfésze. Azért nem osztály, mert a nézetek tipikusan a <code>UserControl</code>-ból származnak le, és egy osztálynak nem lehet több ősosztálya .NET környezetben.</li>
<li><code>DemoView</code>: Egy demo nézet implementáció, mintaként szolgálhat saját nézet létrehozásához. A <code>UserControl</code> osztályból származik, és implementálja az <code>IView</code> interfészt.</li>
</ul>
<p>Az osztályok közötti kapcsolatok jobb megértését segíti a solutionben található <code>ClassDiagram1.cd</code> UML osztálydiagram.</p>
<h2 id="feladat-2-meresi-ertekek-kezelese-dokumentum-logikak">Feladat 2 – Mérési értékek kezelése (dokumentum logikák)<a class="headerlink" href="#feladat-2-meresi-ertekek-kezelese-dokumentum-logikak" title="Permanent link">&para;</a></h2>
<h3 id="meresi-ertekek-reprezentalasa">Mérési értékek reprezentálása<a class="headerlink" href="#meresi-ertekek-reprezentalasa" title="Permanent link">&para;</a></h3>
<p>Vezessünk be egy osztályt a jelértékek reprezentálására.</p>
<p>Legyen az osztály neve <code>SignalValue</code>, és egy <code>Value</code> (<code>double</code>) mezőben tárolja a mért értéket, az időbélyeget pedig egy <code>TimeStamp</code> (<code>DateTime</code>) mezőben. Mivel ezeket nem akarjuk a kezdeti inicializálás után megváltoztatni, definiáljuk őket csak olvashatónak (<code>readonly</code> kulcsszó).</p>
<p>Az osztálynak legyen olyan kétparaméteres konstruktora, mely paraméterben megkapja jelértéket és az időbélyeget, és ez alapján inicializálja a tagváltozókat.
Írjuk felül az <code>object</code>-ből örökölt <code>ToString</code> műveletet, hogy formázottan jelenítse meg az objektum tagváltozóit. Segítség:</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">ToString</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">$&quot;Value: {Value}, TimeStamp: {TimeStamp}&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="sajat-dokumentum-osztaly">Saját dokumentum osztály<a class="headerlink" href="#sajat-dokumentum-osztaly" title="Permanent link">&para;</a></h3>
<p>Vezessünk be egy saját dokumentum osztályt a dokumentumhoz tartozó jelértékek tárolására.</p>
<p>Legyen az osztály neve <code>SignalDocument</code>, származzon a <code>Document</code> osztályból, és egy <code>signals</code> nevű <code>List&lt;SignalValue&gt;</code> típusú tagban tárolja a jeleket.</p>
<div class="admonition tip">
<p class="admonition-title">Document konstruktor</p>
<p>Az ős <code>Document</code> nem rendelkezik default konstruktorral, ezért kell írjunk a leszármazottunkban megfelelő konstruktort:</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="nf">SignalDocument</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<span class="hll"><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="k">base</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span class="p">{</span><span class="w"> </span>
<span class="p">}</span>
</code></pre></div>
</div>
<p>Módosítsuk az <code>App.NewDocument</code> függvényt, hogy a leszármazott <code>SignalDocument</code>-et példányosítsa.</p>
<h3 id="adatok-mentese">Adatok mentése<a class="headerlink" href="#adatok-mentese" title="Permanent link">&para;</a></h3>
<p>Gondoskodjunk a dokumentum által tárolt adatok elmentéséről.</p>
<p>A tesztelést segítendő inicializáljuk a <code>SignalDocument</code>-ben tárolt jelérték listát úgy, hogy mindig legyen benne néhány elem. Célszerű ezeket egy külön tagváltozóban felvenni. Az alábbi kód arra is példát mutat, hogyan lehet C# nyelven a tömb elemeit az inicializálás során egyszerűen megadni (collection initializer).</p>
<div class="admonition warning">
<p class="admonition-title">Figyelem</p>
<p>A megvalósítás során NE az alábbi példában szereplő értékeket használd:</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">SignalDocument</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Document</span>
<span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">SignalValue</span><span class="o">&gt;</span><span class="w"> </span><span class="n">signals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">SignalValue</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">SignalValue</span><span class="p">[]</span><span class="w"> </span><span class="n">testValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SignalValue</span><span class="p">[]</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="nf">SignalValue</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">111</span><span class="p">)),</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="nf">SignalValue</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">876</span><span class="p">)),</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="nf">SignalValue</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">300</span><span class="p">)),</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="nf">SignalValue</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">232</span><span class="p">)),</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="nf">SignalValue</span><span class="p">(</span><span class="o">-</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">885</span><span class="p">)),</span>
<span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="nf">SignalValue</span><span class="p">(</span><span class="o">-</span><span class="m">19</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="m">125</span><span class="p">)),</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">SignalDocument</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="k">base</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Kezdetben dolgozzunk úgy, hogy a signals</span>
<span class="w">        </span><span class="c1">// jelérték listát a testValues alapján inicializáljuk.</span>
<span class="w">        </span><span class="n">signals</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">testValues</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>Következő lépésben írja meg az <code>App.SaveActiveDocument</code> függvényt a forráskódban található megjegyzéseknek megfelelően. A <code>SaveFileDialog</code> használatára a dokumentációban <a href="https://learn.microsoft.com/en-us/dotnet/desktop/winforms/controls/how-to-save-files-using-the-savefiledialog-component?view=netframeworkdesktop-4.8&amp;viewFallbackFrom=netdesktop-6.0">itt</a> vagy <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.savefiledialog?redirectedfrom=MSDN&amp;view=windowsdesktop-7.0">itt</a> talál példát. Az előbb linkelt  példa megtévesztő lehet, mert a dialógus meg is nyitja a fájlt. Esetünkben erre semmi szükség, csak egy fájl útvonalat szeretnénk szerezni, hiszen a fájl megnyitása a dokumentum osztályunk feladata.</p>
<details class="tip">
<summary>Segítség a megoldáshoz</summary>
<div class="highlight"><pre><span></span><code><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// Elmenti az aktív dokumentum tartalmát.</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">SaveActiveDocument</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ActiveDocument</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Útvonal bekérése a felhasználótól a SaveFileDialog segítségével.</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">saveFileDialog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SaveFileDialog</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Megjelenítés előtt paraméterezzük fel a dialógus ablakot</span>
<span class="w">        </span><span class="n">Filter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;txt files (*.txt)|*.txt|All files (*.*)|*.*&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">FilterIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span>
<span class="w">        </span><span class="n">RestoreDirectory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Modálisan megjelenítjük a dialógusablakot.</span>
<span class="w">    </span><span class="c1">// Ha a felhasználó nem az OK gommbal zárta be az ablakot, </span>
<span class="w">    </span><span class="c1">// nem csinálunk semmit (visszatérünk)</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">saveFileDialog</span><span class="p">.</span><span class="n">ShowDialog</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">DialogResult</span><span class="p">.</span><span class="n">OK</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// A dokumentum adatainak elmentése.</span>
<span class="w">    </span><span class="c1">// A saveFileDialog.FileName tartalmazza a teljes útvonalat.</span>
<span class="w">    </span><span class="n">ActiveDocument</span><span class="p">.</span><span class="n">SaveDocument</span><span class="p">(</span><span class="n">saveFileDialog</span><span class="p">.</span><span class="n">FileName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</details>
<p>A következő lépésben definiáljuk felül a <code>SignalDocument</code> osztályban az örökölt <code>SaveDocument</code> függvényt, melyben írjuk ki a tárolt jelértékeket, időbélyeggel együtt. A mentés során arra törekszünk, hogy tömör, mégis olvasható formátumot kapjunk. Ennek megfelelően a bináris formátum nem javasolt. Kövessük a következő minta által meghatározott szöveges formátumot:</p>
<div class="highlight"><pre><span></span><code>10  2022-12-31T23:00:00.1110000Z
20  2022-12-31T23:00:01.8760000Z
30  2022-12-31T23:00:02.3000000Z
10  2022-12-31T23:00:03.2320000Z
</code></pre></div>
<p>Az első oszlopban a jelérték, a másodikban az időpont található, az oszlopok tabulátor karakterrel szeparáltak (<code>\t</code>). Az időpont legyen UTC idő annak érdekében, hogy ha a fájlt más időzónában töltik be, akkor is a helyes helyi időt mutassa. A megfelelő <code>string</code> konverzió a következő:</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myDateTime</span><span class="p">.</span><span class="n">ToUniversalTime</span><span class="p">().</span><span class="n">ToString</span><span class="p">(</span><span class="s">&quot;o&quot;</span><span class="p">);</span>
</code></pre></div>
<p>Szöveges adatok fájlba írására a <code>StreamWriter</code> osztályt használjuk.</p>
<div class="admonition warning">
<p class="admonition-title">Figyelem</p>
<p>A megoldásunkban garantáljuk, hogy kivétel esetén is lezáródjon a fájlunk: használjunk <code>try-finally</code> blokkot, vagy alkalmazzunk <code>using</code> blokkot:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="p">(</span><span class="n">StreamWriter</span><span class="w"> </span><span class="n">sw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StreamWriter</span><span class="p">(</span><span class="n">filePath</span><span class="p">))</span>
<span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
</div>
<p>Az alkalmazást futtatva teszteljük a mentés funkciót. Ennek során ellenőrizzük, hogy a fájlban valóban az elvárásoknak megfelelő formátumban kerülnek-e kiírásra az adatok. Ehhez indítsuk el az alkalmazást, hozzunk létre egy új dokumentumot, majd a <em>File/Save</em> menü kiválasztásával mentsük el.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>Feladat2-3.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Ha szükséges, méretezd át kisebbre, hogy ne foglaljon sok helyet a képernyőn,</li>
<li>a „háttérben” a Visual Studio legyen, az <code>App.cs</code> megnyitva, úgy görgetve, hogy függőlegesen a <code>public void SaveActiveDocument()</code> legyen az oldal közepén (vagyis látszódjon az előző függvény vége és a <code>SaveActiveDocument</code> eleje),</li>
<li>a VS <em>View/Full Screen</em> menüjével kapcsolj ideiglenesen <em>Full Screen</em> nézetre, hogy a zavaró panelek ne vegyenek el semmi helyet,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<h3 id="adatok-betoltese">Adatok betöltése<a class="headerlink" href="#adatok-betoltese" title="Permanent link">&para;</a></h3>
<p>Biztosítsunk lehetőséget dokumentum fájlból betöltésére.</p>
<p>Írjuk meg az <code>App.OpenDocument</code> függvényt a benne szereplő megjegyzéseknek megfelelően, kövessük az ott megadott lépéseket.</p>
<p>A következő lépésben definiáljuk felül a <code>SignalDocument</code> osztályban az örökölt <code>LoadDocument</code> függvényt, melyben töltsük fel a tárolt jelérték listát a fájl tartalma alapján. Szöveges adatok fájlból beolvasására a <code>StreamReader</code> osztályt használjuk, a mentéshez hasonlóan <code>try/finally</code> vagy <code>using</code> blokkban.</p>
<details class="tip">
<summary>Segítségképpen</summary>
<ul>
<li>
<p>Amennyiben van egy <code>sr</code> nevű <code>StreamReader</code> objektumunk, a fájl soronkénti beolvasása a következőképpen lehetséges:</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sr</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">())</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// A line változóban benne van az aktuális sor </span>
<span class="w">    </span><span class="c1">// ,,,</span>
<span class="p">}</span>
</code></pre></div>
</li>
<li>
<p>Az üres, vagy csak whitespace karaktereket tartalmazó sorokat át kell ugrani. A <code>string.Trim</code> használható a whitespace karakterek kiszűrésére, pl.:</p>
<div class="highlight"><pre><span></span><code><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">Trim</span><span class="p">();</span>
</code></pre></div>
</li>
<li>
<p>Az oszlopok tab karakterrel szeparáltak. Egy sztring adott karakter szerinti vágására kényelmesen használható a <code>string</code> osztály <code>Split</code> művelete, pl.: </p>
<div class="highlight"><pre><span></span><code><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="err">’\</span><span class="n">t</span><span class="err">’</span><span class="p">);</span>
</code></pre></div>
</li>
<li>
<p>Sztringből <code>double</code>-t, illetve <code>DateTime</code> objektumot a <code>&lt;típusnév&gt;.Parse(str)</code> függvénnyel lehet pl. kinyerni:</p>
<div class="highlight"><pre><span></span><code><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">strValue</span><span class="p">);</span>
<span class="n">DateTime</span><span class="w"> </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">strValue</span><span class="p">);</span>
</code></pre></div>
</li>
<li>
<p>A fájlban UTC időbélyegek szerepelnek, ezt a dokumentum osztályban tárolás előtt konvertáljuk lokális időre:</p>
<div class="highlight"><pre><span></span><code><span class="n">DateTime</span><span class="w"> </span><span class="n">localDt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">utcDt</span><span class="p">.</span><span class="n">ToLocalTime</span><span class="p">();</span>
</code></pre></div>
</li>
<li>
<p>Miután beolvastuk az adott sort, hozzunk létre egy új <code>SignalValue</code> objektumot a beolvasott értékekkel inicializálva, és vegyük fel a <code>signals</code> listába.</p>
</li>
</ul>
</details>
<p>A <code>LoadDocument</code> függvény elején a <code>signals</code> feltöltése előtt töröljük ki a <code>Clear</code> művelettel a benne levő elemeket. Enélkül ugyanis a konstruktorban hozzáadott teszt jelértékek benne maradnának.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>Feladat2-4.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Ha szükséges, méretezd át kisebbre, hogy ne foglaljon sok helyet a képernyőn,</li>
<li>„háttérben” a Visual Studio legyen, az App.cs megnyitva, úgy görgetve, hogy az <code>OpenDocument</code> függvény törzséből minél több látszódjon.</li>
<li>a VS <em>View/Full Screen</em> menüjével kapcsolj ideiglenesen <em>Full Screen</em> nézetre, hogy a zavaró panelek ne vegyenek el semmi helyet,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<h3 id="betoltes-ellenorzese">Betöltés ellenőrzése<a class="headerlink" href="#betoltes-ellenorzese" title="Permanent link">&para;</a></h3>
<p>A betöltést követően ellenőrizzük a betöltés sikerességét.</p>
<p>Mivel grafikus megjelenítéssel még nem rendelkezik az alkalmazás, más megoldást kell választani. Nyomkövetésre, diagnosztikára a <code>System.Diagnostics</code> névtér osztályai használhatók. A <code>Trace</code> osztály „Debug” build esetén a <code>Write</code>/<code>WriteLine</code> utasítással kiírt adatokat trace-eli: az alapértelmezésben azt jelenti, hogy megjeleníti a Visual Studio <em>Output</em> ablakában. Írjunk egy <code>TraceValues</code> segédfüggvényt a <code>SignalDocument</code> osztályba, mely trace-eli a tárolt jeleket:</p>
<div class="highlight"><pre><span></span><code><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">TraceValues</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">signals</span><span class="p">)</span>
<span class="w">        </span><span class="n">Trace</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">signal</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<p>Hívjuk meg a <code>TraceValues</code>-t a betöltő függvényünk (<code>LoadDocument</code>) végén, és ellenőrizzük a működést: az <span class="keys"><kbd class="key-f5">F5</kbd></span> billentyű lenyomásával debug módban indítsuk el az alkalmazást, a <em>File/Open</em> kiválasztásával töltsünk be egy korábban elmentett fájlt. A művelet végén ellenőrizzük, hogy a Visual Studio <em>Output</em> ablakában (<em>View/Output</em> menüvel jeleníthető meg) kiíródnak-e a fájlból betöltött jelek adatai.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>Feladat2-5.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Ha szükséges, méretezd át kisebbre, hogy ne foglaljon sok helyet a képernyőn,</li>
<li>a „háttérben” a Visual Studio legyen, a <code>SignalDocument.cs</code> megnyitva, melyben látszik a <code>TraceValues</code> implementációja, valamint az <em>Output</em> ablakban a trace-elt jelértékek,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<h2 id="feladat-3-jelek-grafikus-megjelenitese-sajat-nezet-osztaly">Feladat 3 – Jelek grafikus megjelenítése, saját nézet osztály<a class="headerlink" href="#feladat-3-jelek-grafikus-megjelenitese-sajat-nezet-osztaly" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Lényeges</p>
<p>Ezen főfejezet feladatainak megoldását kommentekkel kell ellátni!</p>
</div>
<h3 id="uj-nezet-osztaly">Új nézet osztály<a class="headerlink" href="#uj-nezet-osztaly" title="Permanent link">&para;</a></h3>
<p>Vezessünk be egy új nézet osztályt <code>UserControl</code> formájában.</p>
<p>A nézetet <code>UserControl</code>-ként valósítjuk meg. A téma elméleti háttere az előadásanyagban megtalálható. Következzen pár fontosabb gondolat ismétlésképpen. A <code>UserControl</code> alapú megközelítéssel olyan saját vezérlőt készíthetünk, melyek az űrlapokhoz (<code>Form</code>) hasonlóan más vezérlőket tartalmazhatnak.</p>
<p>Számos pontban nagyon hasonlítanak az űrlapokhoz, pl.:</p>
<ul>
<li>Két forrásfájl tartozik hozzájuk. Egy, amiben mi dolgozunk, és egy <code>designer.cs</code> végződésű, melybe a Visual Studio generál kódot. A fejlesztők számára dedikált forrásfájlt többféleképpen lehet megnyitni:<ul>
<li>A Solution Explorer összevontan jeleníti meg a forrásfájlokat: ezen jobb gombbal kattintva a <em>View Code</em> elemet válasszuk a menüben.</li>
<li>Amennyiben duplakattal megnyitottuk a <code>UserControl</code>-t szerkesztésre, a szerkesztőfelületen jobb gombbal kattintva válasszuk a <em>View Code</em> menüt.</li>
<li><span class="keys"><kbd class="key-f7">F7</kbd></span> billentyű használatával.</li>
</ul>
</li>
<li>Amikor saját űrlapot készítünk, a beépített <code>Form</code> osztályból kell egy saját osztályt leszármaztatni. Saját <code>UserControl</code> esetében a beépített <code>UserControl</code> osztályból kell származtatni. Ezt ritkán szoktuk manuálisan megtenni, általában a Visual Studio-ra bízzuk (pl. <em>Project/Add UserControl</em> menü).</li>
<li>Hasonlóan a Solution Explorerben duplán kattintva rajtuk tudjuk megnyitni a felületüket szerkesztésre, a <em>Toolbox</em>-ból tudunk más vezérlőket elhelyezni a felületükön, melyekből a <code>UserControl</code> osztályunkban tagváltozók lesznek.</li>
<li>Hasonló módon tudunk eseménykezelőket készíteni (magához a <code>UserControl</code>-hoz, vagy a rajta levő vezérlőkhöz).</li>
<li>Ugyanúgy tudunk felületére rajzolni. Vagy a <code>Paint</code> eseményhez rendelünk eseménykezelőt, vagy felüldefiniáljuk az <code>OnPaint</code> virtuális függvényt.</li>
</ul>
<p>Abban természetesen különbözik az űrlapoktól, hogy míg az űrlapok, mint önálló ablakok a <code>Show</code> vagy <code>ShowDialog</code> műveletekkel megjeleníthetők, a <code>UserControl</code>-ok vezérlők, melyeket űrlapokon vagy más vezérlőkön kell elhelyezni.</p>
<p>Visszatérve a feladatra a megvalósítás főbb lépései a következők:</p>
<ul>
<li>Az új nézet a fentieknek megfelelően egy <code>UserControl</code> legyen. Saját <code>UserControl</code>-t felvenni pl. a <em>Project/Add UserControl</em> menüvel lehet. Legyen a neve <code>GraphicsSignalView</code> (jelezve, hogy ez egy grafikus nézet, és nem karakteresen jeleníti meg a jeleket).</li>
<li>Bővítsük az osztályt a <code>DemoView</code> mintájára (többek között implementálja az <code>IView</code> interfészt). A <code>DemoView</code> a dokumentumra ős <code>Document</code> típusként hivatkozik, lásd <code>Document document;</code> tagváltozó. A <code>GraphicsSignalView</code>-ban célszerű a specifikusabb, <code>SignalDocument</code> típusúnak definiálni a tagváltozót!</li>
<li>
<p>Módosítsuk az <code>App.CreateView()</code>-t, hogy <code>DemoView</code> helyett <code>GraphicsSignalView</code>-t hozzon létre. Hogy ez működhessen, a <code>GraphicsSignalView</code>-ba fel kell venni egy konstruktort a következőnek megfelelően (hagyjuk meg a default konstruktort és hívjuk is meg):</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="nf">GraphicsSignalView</span><span class="p">(</span><span class="n">SignalDocument</span><span class="w"> </span><span class="n">document</span><span class="p">)</span>
<span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="k">this</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Az <code>App.CreateView</code> módosításának van még egy trükkje. Mivel a <code>document</code> referenciánk típusa <code>Document</code>, a <code>GraphicsSignalView</code> pedig a leszármazottját várja, a konstruktor hívásakor explicit le kell castoljuk <code>SignalDocument</code>-re:</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GraphicsSignalView</span><span class="p">((</span><span class="n">SignalDocument</span><span class="p">)</span><span class="n">document</span><span class="p">);</span>
</code></pre></div>
</li>
</ul>
<h3 id="a-koordinata-tengelyek-kirajzolasa">A koordináta tengelyek kirajzolása<a class="headerlink" href="#a-koordinata-tengelyek-kirajzolasa" title="Permanent link">&para;</a></h3>
<p>Rajzoljuk ki a koordináta tengelyeket. Legyen az alapelv a következő:</p>
<ul>
<li>A rajzolófelületünk (vagyis a <code>GraphicsSignalView</code> <code>UserControl</code>) kliens területének szélességét a <code>ClientSize.Width</code>, a magasságát a <code>ClientSize.Height</code> lekérdezésével kaphatjuk meg. Vonalat rajzolni a <code>Graphics</code> osztály <code>DrawLine</code> műveletével lehet.</li>
<li>Az Y tengelyt a nulla y pixelpozícióba rajzoljuk.</li>
<li>Az X tengelyt mindig a rajzolófelületünk közepére igazítva rajzoljuk, akárhogy méretezi is a felhasználó az ablakot (segítségképpen: a teljes aktuális magasságot a <code>ClientSize.Height</code> adja meg számunkra).</li>
<li>
<p><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/2757.svg" title=":exclamation:" /> <strong>A koordináta tengelyek színe legyen kék, és legyenek 2 pixel vastagok. A tengelyeket pontozott vonallal rajzoljuk, és a végükön legyen egy kisméretű nyíl.</strong> Erre a beépített <code>Pen</code> támogatást nyújt:</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">pen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Pen</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">Blue</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">DashStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DashStyle</span><span class="p">.</span><span class="n">Dot</span><span class="p">,</span>
<span class="w">    </span><span class="n">EndCap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LineCap</span><span class="p">.</span><span class="n">ArrowAnchor</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div>
</li>
<li>
<p>A függőleges tengelyt nem a 0, hanem a 2 koordinátába érdemes rajzolni (különben csak 1 pixel vastagnak fog látszódni).</p>
</li>
</ul>
<p>A munkánk eredményeképpen valami hasonlót kell lássunk futás közben (a szín és minta nem biztos, hogy egyezik), persze csak ha megnyitunk egy létező vagy létrehozunk egy új dokumentumot, máskülönben nincs is nézetünk:</p>
<p><a class="glightbox" href="images/tengelyek.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Tengelyek" src="images/tengelyek.png" /></a></p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>Feladat3-2.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Nyiss meg vagy hozz létre egy dokumentumot, hogy látszódjanak a koordinátatengelyek. Ha szükséges, méretezd át kisebbre, hogy ne foglaljon sok helyet a képernyőn,</li>
<li>a „háttérben” a Visual Studio legyen, a <code>GraphicsSignalView.cs</code> megnyitva, melyben látszik a koordinátatengelyek kirajzolása,</li>
<li>a VS <em>View/Full Screen</em> menüjével kapcsolj ideiglenesen <em>Full Screen</em> nézetre, hogy a zavaró panelek ne vegyenek el semmi helyet,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<h3 id="jelek-megjelenitese">Jelek megjelenítése<a class="headerlink" href="#jelek-megjelenitese" title="Permanent link">&para;</a></h3>
<p>Valósítsuk meg a jelek megjelenítését!</p>
<p>Az <code>GraphicsSignalView</code>-ban az <code>OnPaint</code>-et felüldefiniálva valósítsuk meg a jelek kirajzolását. Először 3*3 pixeles „pontokat” rajzoljunk (pl. <code>Graphics.FillRectangle</code>-lel), majd a pontokat kössük össze vonalakkal (<code>Graphics.DrawLine</code>).</p>
<details class="tip">
<summary>Segítségképpen</summary>
<p>A megvalósításban segíthet a következő:</p>
<ul>
<li>
<p>Az <code>OnPaint</code> művelet a megjelenítés során el kell érje a <code>SignalDocument</code>-ben tárolt <code>SignalValue</code> objektumokat. Ehhez a <code>SignalDocument</code> osztályban vezessünk be egy publikus property-t (a <code>SignalDocument</code>-ben a <code>signals</code> tag privát, és ez maradjon is így):</p>
<div class="highlight"><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="n">IReadOnlyList</span><span class="o">&lt;</span><span class="n">SignalValue</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Signals</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">get</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">signals</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Figyeljük meg, hogy az objektumokat nem <code>List&lt;SignalValue&gt;</code>-ként, hanem <code>IReadOnlyList&lt;SignalValue&gt;</code> formában adjuk vissza: így a hívó nem tudja módosítani az eredeti listát, nem tudja véletlenül se elrontani a tartalmát.</p>
</li>
<li>
<p>Két <code>DateTime</code> érték különbsége egy <code>TimeSpan</code> (időtartam) típusú objektumot eredményez.</p>
</li>
<li>Egy <code>DateTime</code> objektum a <code>Ticks</code> property-jében adja vissza legjobb felbontással az általa tárolt időértéket (1 tick = 100 nsec felbontás).</li>
<li>A rajzolófelületünk (vagyis a <code>GraphicsSignalView</code> <code>UserControl</code>) nulla x koordinátájában jelenítsük meg a listánkban levő első jelet.</li>
<li>A megjelenítés során semmiféle követelmény nincs arra vonatkozóan, hogy a jeleket mindig olyan skálatényezőkkel jelenítsük meg, hogy pont kiférjenek a rajzolás során. Helyette a nézet osztályunkban vezessünk be és használjunk olyan <code>pixelPerSec</code> és <code>pixelPerValue</code> skálatényezőket, melyek érzésre, vagy pár próbálkozás után úgy jelenítsék meg a jeleket az alapértelmezett megjelenítés során, hogy a nézetbe beférjenek, de ne is legyen a rajz túl kicsi (de az ablak átméretezésekor már nem kell beférjenek a jelek az ablakba).</li>
<li>Amennyiben a rajzunk „nem akar” megjelenni, tegyünk töréspontot az <code>OnPaint</code> műveletbe, és a kódunkat lépésenként végrehajva a változók értékét tooltipben vagy a <em>Watch</em> ablakban megjelenítve nyomozzuk, hol csúszik félre a számításunk.</li>
</ul>
</details>
<p>Ha jól dolgoztunk, a következőhöz hasonló kimenetet kapunk:</p>
<p><a class="glightbox" href="images/grafikon.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Grafikon" src="images/grafikon.png" /></a></p>
<h3 id="nagyitas-kicsinyites">Nagyítás, kicsinyítés<a class="headerlink" href="#nagyitas-kicsinyites" title="Permanent link">&para;</a></h3>
<p>Biztosítsunk lehetőséget a nézet nagyításra és kicsinyítésére. Ehhez helyezzünk el egy kisméretű, "+" és "–" szöveget tartalmazó nyomógombot a nézeten.</p>
<p>Lépések:</p>
<ul>
<li>Nyissuk meg a <code>GraphicsSignalView</code> <code>UserControl</code>-t szerkesztésre.</li>
<li>A <em>Toolbox</em>-ról drag&amp;drop-pal helyezzünk el rajta két gombot (<code>Button</code>).</li>
<li>Nevezzük el a gombokat megfelelően és állítsuk be a szövegüket (<code>Text</code> property).</li>
<li>Rendeljünk eseménykezelőt a gombok <code>Click</code> eseményéhez (ehhez csak duplán kell a gombokon kattintani a szerkesztőben).</li>
<li>Vezessünk be a nézetben egy <code>double</code> típusú skálatényezőt, melynek kezdőértéke legyen 1. Nagyításkor ezt növeljük (pl. 1,2-szeresére), kicsinyítéskor csökkentsük (pl. osszuk 1,2-vel). Az <code>OnPaint</code> műveleteben, mikor az y és x pixelkoordinátákat számoljuk, a végső eredmény számításakor a koordinátákat szorozzuk be az aktuális skálatényezővel. A skálatényező változtatása után ne felejtsük el meghívni az <code>Invalidate</code> műveletet!</li>
</ul>
<p>A következőhöz hasonló kimenetet a cél (némi nagyítást követően):</p>
<p><a class="glightbox" href="images/zoomed.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Nagított grafikon" src="images/zoomed.png" /></a></p>
<p>Az alkalmazást futtatva a <em>Window</em> menüből ugyanahhoz a dokumentumhoz hozzunk létre egy új nézetet, és a nagyítás/kicsinyítés gombokat használva, valamint a nézetek között váltogatva ellenőrizzük, hogy a nézetek ugyanazokat az adatokat jelenítik meg, de eltérő nagyításban.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>Feladat3-4.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Nyiss meg vagy hozz létre egy dokumentumot, hogy látszódjanak a koordinátatengelyek és a kirajzolt jelek. Ha szükséges, méretezd át kisebbre, hogy ne foglaljon sok helyet a képernyőn,</li>
<li>a „háttérben” a Visual Studio legyen, a <code>GraphicsSignalView.cs</code> megnyitva, melyben látszik a jelek kirajzolása,</li>
<li>a VS <em>View/Full Screen</em> menüjével kapcsolj ideiglenesen <em>Full Screen</em> nézetre, hogy a zavaró panelek ne vegyenek el semmi helyet,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<h2 id="opcionalis-imsc-feladatok">Opcionális iMSc feladatok<a class="headerlink" href="#opcionalis-imsc-feladatok" title="Permanent link">&para;</a></h2>
<p>Az egyes feladatok egymástól függetlenül is megoldhatók!</p>
<h3 id="iview-kodduplikacioja-1-imsc-pont"><code>IView</code> kódduplikációja (1 iMSc pont)<a class="headerlink" href="#iview-kodduplikacioja-1-imsc-pont" title="Permanent link">&para;</a></h3>
<p>Az <code>IView</code> egy interfész, ezért a <code>GetDocument</code>/<code>Update</code> stb. kódját nem lehet implementálni benne. Helyette minden nézetben „copy-paste”-tel duplikálni kell a megfelelő kódot. Szüntessük meg ezt a kódduplikációt az alkalmazásban! A megoldást előbb mindenképpen magad próbáld kitalálni, csak ha elakadsz, akkor fordulj az alábbi kinyitható segítséghez:</p>
<details class="tip">
<summary>Segítség</summary>
<p>Egy <code>ViewBase</code> nevű osztályt kell írni, mely a <code>UserControl</code>-ból származik, és implementálja az <code>IView</code> interfészt. A nézeteinket a <code>UserControl</code> helyett a <code>ViewBase</code> osztályból kell származtatni.</p>
</details>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>FeladatIMSc-1.png</code> néven az alábbiak szerint:</p>
<ul>
<li>A képernyőmentés a Visual Studioról legyen, mely valamilyen módon mutatja, hogy az átalakítást elvégezted.</li>
</ul>
</div>
<h3 id="grafikon-gorgetese-1-imsc-pont">Grafikon görgetése (1 iMSc pont)<a class="headerlink" href="#grafikon-gorgetese-1-imsc-pont" title="Permanent link">&para;</a></h3>
<p>Biztosítsunk lehetőséget a grafikon görgetésére!</p>
<p>A megvalósításban használhatunk egyedi scrollbar-t is, de ennél egyszerűbb a <code>UserControl</code> autoscroll támogatását felhasználni (<code>UserControl.AutoScroll</code> és <code>UserControl.AutoScrollMinSize</code>).</p>
<p>A kirajzolás során a rajzot az aktuális scroll pozíciónak megfelelően el kell tolni. Erre a legegyszerűbb megoldás, ha egy, a scroll pozíciónak megfelelő eltolást eredményező transzformációs mátrixot állítunk be a <code>Graphics</code> objektumra a kirajzolás előtt (<code>g.Transform</code> beállítása egy <code>new Matrix(1, 0, 0, 1, AutoScrollPosition.X, AutoScrollPosition.Y)</code> objektumra).</p>
<p>A megközelítés előnye a viszonylagos egyszerűsége. Hátránya, hogy ha nagyon sok jelünk van, de annak csak egy kis szelete látható egy adott pillanatban, attól még a <code>Paint</code> függvényünkben a nem látható jeleket is kirajzoljuk. Egy optimalizált megoldásban csak a látható tartományt célszerű megjeleníteni.</p>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>FeladatIMSc-2.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Nyiss meg vagy hozz létre egy dokumentumot, hogy látszódjanak a koordinátatengelyek és a kirajzolt jelek, valamint a görgetősáv (scrollbar). Ha szükséges, méretezd át kisebbre, hogy ne foglaljon sok helyet a képernyőn,</li>
<li>a „háttérben” a Visual Studio legyen, a <code>GraphicsSignalView.cs</code> releváns része megnyitva,</li>
<li>a VS <em>View/Full Screen</em> menüjével kapcsolj ideiglenesen <em>Full Screen</em> nézetre, hogy a zavaró panelek ne vegyenek el semmi helyet,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<h3 id="jelek-elo-generalasa-3-imsc-pont">Jelek élő generálása (3 iMSc pont)<a class="headerlink" href="#jelek-elo-generalasa-3-imsc-pont" title="Permanent link">&para;</a></h3>
<p>Biztosítsunk lehetőséget jelek élő generálására és megjelenítésére.</p>
<p>Az átalakítást olyan módon kell végrehajtani, hogy a korábbi feladatok megoldása működőképes maradjon az alapértelmezett, nem élő módban.</p>
<p>Vezessünk be egy <em>Data</em> menüelem alatti <em>Change To Live Data Source Mode</em> menüelemet. Amikor a felhasználó erre kattint, indítsunk egy szálat, mely véletlenszerű jelértékeket generál (azt szimulálva, hogy valamilyen adatforrásból, pl. soros port, hálózat stb. adatok érkeznek) a következőknek megfelelően:</p>
<ul>
<li>A <em>Change To Live Data Source Mode</em> az aktuális dokumentumra vonatkozik. Vagyis minden dokumentum egymástól függetlenül élő adatforrás módba kapcsolható. Ennek megfelelően a jelek generálását dokumentum szinten célszerű megvalósítani (dokumentumonként külön szál).</li>
<li>Másodpercenként nagyságrendileg 4 jelérték érkezzen véletlen időközönként (pl. szál altatása véletlen időközig, 500 ms max értékkel), melyek időbélyege legyen az aktuális idő (<code>DateTime.Now</code>).</li>
<li>A generált értékek kerüljenek bele az aktuális dokumentum jelérték halmazába (fűzze a végére).</li>
<li>A megjelenítés során nem kell azzal foglalkozni, hogy a nézet automatikusan úgy nagyítsa/kicsinyítse/görgesse a felületet, hogy az érkező adatok láthatóak legyenek. Vagyis semmiféle automatizmust nem kell megvalósítani, ha az érkező adatok a megjelenítési tartományon kívül esnek: a felhasználó feladata, hogy úgy nagyítsa/kicsinyítse/görgesse a felületet, hogy azok láthatók legyenek.</li>
<li>A megjelenítés során nem kell optimalizációval foglalkozni. Vagyis nem kell gondoskodni arról, hogy mindig csak az újonnan érkező adatok kerüljenek kirajzolásra, vagy, hogy ne villogjon a felület az újrarajzolás során.</li>
<li>Egy élő adatforrás módban levő dokumentum esetén nem elvárás, hogy ha új érték születik, a dokumentum nézetei azt mielőbb megjelenítsék. Vagyis teljesen elfogadható - sőt, célszerű - megoldás, ha egy élő módban levő dokumentum nézetei másodpercenként néhányszor (pl. ötször) ellenőrzik, érkezett-e új adat, és szükség esetén frissítik magukat (pull modell). Azt, hogy érkezett-e új adat, egy nézet pl. úgy tudja eldönteni, ha eltárolja az utoljára megjelenített jelek számát, és összehasonlítja az aktuális jelszámmal.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">BEADANDÓ</p>
<p>Készíts egy képernyőmentést <code>FeladatIMSc-3.png</code> néven az alábbiak szerint:</p>
<ul>
<li>Indítsd el az alkalmazást. Nyiss meg vagy hozz létre egy dokumentumot és válts élő módba, hogy látszódjanak a random generált értékek is.</li>
<li>a „háttérben” a Visual Studio legyen, a <code>SignalDocument.cs</code> releváns része megnyitva,</li>
<li>a VS <em>View/Full Screen</em> menüjével kapcsolj ideiglenesen <em>Full Screen</em> nézetre, hogy a zavaró panelek ne vegyenek el semmi helyet,</li>
<li>az előtérben pedig az alkalmazásod ablaka.</li>
</ul>
</div>
<hr>
<div class="md-source-file">
  <span class="md-source-file__fact"> <span class="md-icon" title="Utolsó frissítés"> <svg
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z">
        </path>
      </svg>
    </span>
    <span title="2024. január 14. 17:38:37">
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-01-14T17:38:37+01:00" locale="hu"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-01-14</span>
    </span>
  </span>

  

  <span class="md-source-file__fact">
    <span class="md-icon" title="Szerzők">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path
          d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z">
        </path>
      </svg>
    </span>
    <span>Szerzők</span>
    <nav><a href="https://github.com/bzolka" target="_blank" rel="noopener noreferrer" class="md-author" title="@bzolka">
        <img src="https://avatars.githubusercontent.com/bzolka?size=72" alt="@bzolka">
      </a><a href="https://github.com/homok43" target="_blank" rel="noopener noreferrer" class="md-author" title="@None">
        <img src="https://avatars.githubusercontent.com/u/16989201?u=0e27954064045c1000b2eccf6dbf2cd8b33e2b0f&v=4?size=72" alt="@None">
      </a><a href="https://github.com/Kisbogyi" target="_blank" rel="noopener noreferrer" class="md-author" title="@Kisbogyi">
        <img src="https://avatars.githubusercontent.com/u/55801726?v=4?size=72" alt="@Kisbogyi">
      </a><a href="https://github.com/tibitoth" target="_blank" rel="noopener noreferrer" class="md-author" title="@Tibor Tóth">
        <img src="https://avatars.githubusercontent.com/u/8333960?u=d26653213d265ecdceeaf20a896d74f479d35450&v=4?size=72" alt="@Tibor Tóth">
      </a><a href="https://github.com/zbenedek-mirango" target="_blank" rel="noopener noreferrer" class="md-author" title="@Zoltán Benedek">
        <img src="https://avatars.githubusercontent.com/u/105201689?u=f025d5bedc2ea0cab45a1010194e95afd8ed3556&v=4?size=72" alt="@Zoltán Benedek">
      </a></nav>      
  </span>
</div>




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Vissza a tetejére
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; BME VIK AUT
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest", "content.action.edit", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "V\u00e1g\u00f3lapra m\u00e1solva", "clipboard.copy": "M\u00e1sol\u00e1s v\u00e1g\u00f3lapra", "search.result.more.one": "1 tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.more.other": "# tov\u00e1bbi tal\u00e1lat az oldalon", "search.result.none": "Nincs tal\u00e1lat", "search.result.one": "1 egyez\u0151 dokumentum", "search.result.other": "# egyez\u0151 dokumentum", "search.result.placeholder": "Keres\u00e9shez \u00edrj ide valamit", "search.result.term.missing": "\u00dcres", "select.version": "Verzi\u00f3v\u00e1lt\u00e1s"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>